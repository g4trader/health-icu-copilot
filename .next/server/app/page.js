(()=>{var a={};a.id=931,a.ids=[931],a.modules={7849:a=>{"use strict";a.exports=require("next/dist/client/components/action-async-storage.external")},2934:a=>{"use strict";a.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:a=>{"use strict";a.exports=require("next/dist/client/components/request-async-storage.external")},4580:a=>{"use strict";a.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:a=>{"use strict";a.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:a=>{"use strict";a.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},890:(a,e,i)=>{"use strict";i.r(e),i.d(e,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),i(908),i(6910),i(5866);var s=i(3191),t=i(8716),l=i(7922),n=i.n(l),r=i(5231),o={};for(let a in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(a)&&(o[a]=()=>r[a]);i.d(e,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,908)),"/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,6910)),"/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/page.tsx"],m="/page",u={require:i,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7736:(a,e,i)=>{Promise.resolve().then(i.bind(i,3369))},8405:(a,e,i)=>{Promise.resolve().then(i.bind(i,6965))},9130:(a,e,i)=>{Promise.resolve().then(i.t.bind(i,2994,23)),Promise.resolve().then(i.t.bind(i,6114,23)),Promise.resolve().then(i.t.bind(i,9727,23)),Promise.resolve().then(i.t.bind(i,9671,23)),Promise.resolve().then(i.t.bind(i,1868,23)),Promise.resolve().then(i.t.bind(i,4759,23))},6965:(a,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>O});var s=i(326),t=i(7577);function l(a){let e=0;a.vitalSigns.pressaoArterialMedia<65&&(e+=.25),(a.vitalSigns.frequenciaCardiaca>150||a.vitalSigns.frequenciaCardiaca<60)&&(e+=.15),(a.vitalSigns.temperatura>38.5||a.vitalSigns.temperatura<36)&&(e+=.1),a.vitalSigns.saturacaoO2<92&&(e+=.2),a.medications.some(a=>"vasopressor"===a.tipo&&a.ativo)&&(e+=.25),a.ventilationParams&&(e+=.15);let i=a.labResults.find(a=>"lactato"===a.tipo);return i&&"number"==typeof i.valor&&i.valor>=3&&(e+=.2),i&&"subindo"===i.tendencia&&(e+=.15),a.fluidBalance.balanco24h>5&&(e+=.1),a.fluidBalance.diurese<1&&(e+=.15),Math.min(e,1)}function n(a){return a>=.7?"alto":a>=.4?"moderado":"baixo"}let r=[{id:"p1",leito:"UTI 01",nome:"Sophia",idade:3,peso:14.5,diagnosticoPrincipal:"Bronquiolite viral aguda com insufici\xeancia respirat\xf3ria grave",diasDeUTI:4,riscoMortality24h:.68,riscoMortality7d:.75,ultimaAtualizacao:"2025-11-26T09:15:00Z",tags:["RSV positivo","atrialia","press\xe3o suporte alta","noradrenalina"],vitalSigns:{temperatura:39.2,frequenciaCardiaca:165,frequenciaRespiratoria:45,pressaoArterialSistolica:95,pressaoArterialDiastolica:45,pressaoArterialMedia:52,saturacaoO2:88,escalaGlasgow:12},fluidBalance:{entrada24h:4.2,saida24h:2.1,balanco24h:2.1,entradaTotal:3045,saidaTotal:1522,balancoTotal:1523,diurese:1.2,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[{id:"m1",nome:"Noradrenalina",tipo:"vasopressor",dose:.5,unidade:"mcg/kg/min",via:"EV",frequencia:"cont\xednuo",diasDeUso:2,inicio:"2025-11-24T10:00:00Z",ativo:!0},{id:"m2",nome:"Midazolam",tipo:"sedativo",dose:.1,unidade:"mg/kg/h",via:"EV",frequencia:"cont\xednuo",diasDeUso:4,inicio:"2025-11-22T08:00:00Z",ativo:!0}],ventilationParams:{modo:"PSV",fiO2:70,peep:8,pressaoSuporte:18,volumeCorrente:6.5,frequenciaRespiratoria:35,relacaoIE:"1:2",paO2FiO2:180,ultimaAtualizacao:"2025-11-26T09:10:00Z"},labResults:[{id:"l1",tipo:"lactato",nome:"Lactato",valor:3.8,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:30:00Z",tendencia:"subindo",critico:!0},{id:"l2",tipo:"hemograma",nome:"Hemograma completo",valor:"Leucocitose",unidade:"c\xe9lulas/mm\xb3",referencia:"5.000-15.000",data:"2025-11-26T08:00:00Z",critico:!0}]},{id:"p2",leito:"UTI 02",nome:"Gabriel",idade:8,peso:28,diagnosticoPrincipal:"Pneumonia bacteriana grave com derrame pleural",diasDeUTI:3,riscoMortality24h:.55,riscoMortality7d:.65,ultimaAtualizacao:"2025-11-26T09:10:00Z",tags:["PaO2/FiO2 em melhora","antibi\xf3tico D3","derrame drenado"],vitalSigns:{temperatura:37.8,frequenciaCardiaca:125,frequenciaRespiratoria:32,pressaoArterialSistolica:110,pressaoArterialDiastolica:65,pressaoArterialMedia:65,saturacaoO2:94,escalaGlasgow:15},fluidBalance:{entrada24h:3.5,saida24h:3.2,balanco24h:.3,entradaTotal:4704,saidaTotal:4300,balancoTotal:404,diurese:2.1,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[{id:"m3",nome:"Ceftriaxona",tipo:"antibiotico",dose:100,unidade:"mg/kg/dia",via:"EV",frequencia:"12/12h",diasDeUso:3,inicio:"2025-11-23T10:00:00Z",ativo:!0},{id:"m4",nome:"Clindamicina",tipo:"antibiotico",dose:40,unidade:"mg/kg/dia",via:"EV",frequencia:"8/8h",diasDeUso:3,inicio:"2025-11-23T10:00:00Z",ativo:!0}],ventilationParams:{modo:"SIMV",fiO2:50,peep:6,pressaoSuporte:12,volumeCorrente:8,frequenciaRespiratoria:20,relacaoIE:"1:2",paO2FiO2:240,ultimaAtualizacao:"2025-11-26T09:05:00Z"},labResults:[{id:"l3",tipo:"lactato",nome:"Lactato",valor:2.5,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:00:00Z",tendencia:"caindo",critico:!0},{id:"l4",tipo:"pcr",nome:"Prote\xedna C Reativa",valor:180,unidade:"mg/L",referencia:"< 3.0",data:"2025-11-26T08:00:00Z",tendencia:"caindo",critico:!0}]},{id:"p3",leito:"UTI 03",nome:"Isabella",idade:6,peso:22,diagnosticoPrincipal:"Sepse de foco abdominal p\xf3s-cirurgia de apendicite complicada",diasDeUTI:2,riscoMortality24h:.72,riscoMortality7d:.82,ultimaAtualizacao:"2025-11-26T09:05:00Z",tags:["abdome tenso","leucocitose","noradrenalina","antimicrobiano de amplo espectro"],vitalSigns:{temperatura:38.9,frequenciaCardiaca:155,frequenciaRespiratoria:38,pressaoArterialSistolica:88,pressaoArterialDiastolica:42,pressaoArterialMedia:50,saturacaoO2:92,escalaGlasgow:13},fluidBalance:{entrada24h:5.5,saida24h:1.8,balanco24h:3.7,entradaTotal:6050,saidaTotal:1980,balancoTotal:4070,diurese:.8,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[{id:"m5",nome:"Noradrenalina",tipo:"vasopressor",dose:.8,unidade:"mcg/kg/min",via:"EV",frequencia:"cont\xednuo",diasDeUso:1,inicio:"2025-11-25T14:00:00Z",ativo:!0},{id:"m6",nome:"Piperacilina-Tazobactam",tipo:"antibiotico",dose:300,unidade:"mg/kg/dia",via:"EV",frequencia:"8/8h",diasDeUso:2,inicio:"2025-11-24T10:00:00Z",ativo:!0},{id:"m7",nome:"Metronidazol",tipo:"antibiotico",dose:30,unidade:"mg/kg/dia",via:"EV",frequencia:"8/8h",diasDeUso:2,inicio:"2025-11-24T10:00:00Z",ativo:!0}],labResults:[{id:"l5",tipo:"lactato",nome:"Lactato",valor:4.5,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:00:00Z",tendencia:"subindo",critico:!0},{id:"l6",tipo:"hemograma",nome:"Hemograma completo",valor:"Leucocitose com desvio",unidade:"c\xe9lulas/mm\xb3",referencia:"5.000-15.000",data:"2025-11-26T08:00:00Z",critico:!0}]},{id:"p4",leito:"UTI 04",nome:"Lucas",idade:12,peso:42,diagnosticoPrincipal:"Trauma cranioencef\xe1lico grave p\xf3s-acidente",diasDeUTI:6,riscoMortality24h:.45,riscoMortality7d:.58,ultimaAtualizacao:"2025-11-26T09:00:00Z",tags:["PIC est\xe1vel","seda\xe7\xe3o profunda","GCS 7","sem sinais de hipertens\xe3o intracraniana"],vitalSigns:{temperatura:37.1,frequenciaCardiaca:95,frequenciaRespiratoria:18,pressaoArterialSistolica:125,pressaoArterialDiastolica:75,pressaoArterialMedia:70,saturacaoO2:98,escalaGlasgow:7,pressaoIntracraniana:12},fluidBalance:{entrada24h:2.8,saida24h:2.5,balanco24h:.3,entradaTotal:5880,saidaTotal:5250,balancoTotal:630,diurese:2,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[{id:"m8",nome:"Fentanil",tipo:"sedativo",dose:2,unidade:"mcg/kg/h",via:"EV",frequencia:"cont\xednuo",diasDeUso:6,inicio:"2025-11-20T10:00:00Z",ativo:!0},{id:"m9",nome:"Midazolam",tipo:"sedativo",dose:.15,unidade:"mg/kg/h",via:"EV",frequencia:"cont\xednuo",diasDeUso:6,inicio:"2025-11-20T10:00:00Z",ativo:!0},{id:"m10",nome:"Cefalexina",tipo:"antibiotico",dose:100,unidade:"mg/kg/dia",via:"EV",frequencia:"6/6h",diasDeUso:4,inicio:"2025-11-22T08:00:00Z",ativo:!0}],ventilationParams:{modo:"CMV",fiO2:35,peep:5,volumeCorrente:7.5,frequenciaRespiratoria:16,relacaoIE:"1:2",paO2FiO2:320,ultimaAtualizacao:"2025-11-26T08:50:00Z"},labResults:[{id:"l7",tipo:"lactato",nome:"Lactato",valor:1.8,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:00:00Z",tendencia:"estavel",critico:!1}]},{id:"p5",leito:"UTI 05",nome:"Maria Eduarda",idade:2,peso:11.5,diagnosticoPrincipal:"Cardiopatia cong\xeanita descompensada (CIV + CIA)",diasDeUTI:5,riscoMortality24h:.58,riscoMortality7d:.68,ultimaAtualizacao:"2025-11-26T08:55:00Z",tags:["edema pulmonar","dopamina","diur\xe9tico ajustado","fun\xe7\xe3o card\xedaca deprimida"],vitalSigns:{temperatura:37.3,frequenciaCardiaca:145,frequenciaRespiratoria:40,pressaoArterialSistolica:92,pressaoArterialDiastolica:48,pressaoArterialMedia:55,saturacaoO2:90,escalaGlasgow:14},fluidBalance:{entrada24h:4.8,saida24h:3.2,balanco24h:1.6,entradaTotal:2760,saidaTotal:1840,balancoTotal:920,diurese:2.2,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[{id:"m11",nome:"Dopamina",tipo:"vasopressor",dose:8,unidade:"mcg/kg/min",via:"EV",frequencia:"cont\xednuo",diasDeUso:3,inicio:"2025-11-23T12:00:00Z",ativo:!0},{id:"m12",nome:"Furosemida",tipo:"diuretico",dose:2,unidade:"mg/kg/dose",via:"EV",frequencia:"12/12h",diasDeUso:5,inicio:"2025-11-21T08:00:00Z",ativo:!0}],ventilationParams:{modo:"PSV",fiO2:60,peep:7,pressaoSuporte:15,volumeCorrente:6,frequenciaRespiratoria:30,relacaoIE:"1:2",paO2FiO2:200,ultimaAtualizacao:"2025-11-26T08:50:00Z"},labResults:[{id:"l8",tipo:"lactato",nome:"Lactato",valor:3.2,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:00:00Z",tendencia:"estavel",critico:!0}]},{id:"p6",leito:"UTI 06",nome:"Jo\xe3o Pedro",idade:5,peso:18,diagnosticoPrincipal:"Bronquiolite viral moderada com necessidade de suporte ventilat\xf3rio",diasDeUTI:2,riscoMortality24h:.35,riscoMortality7d:.45,ultimaAtualizacao:"2025-11-26T08:50:00Z",tags:["RSV positivo","CPAP","melhora progressiva"],vitalSigns:{temperatura:38.2,frequenciaCardiaca:140,frequenciaRespiratoria:35,pressaoArterialSistolica:105,pressaoArterialDiastolica:60,pressaoArterialMedia:68,saturacaoO2:93,escalaGlasgow:15},fluidBalance:{entrada24h:3,saida24h:2.8,balanco24h:.2,entradaTotal:2700,saidaTotal:2520,balancoTotal:180,diurese:2,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[],ventilationParams:{modo:"CPAP",fiO2:40,peep:6,frequenciaRespiratoria:28,paO2FiO2:280,ultimaAtualizacao:"2025-11-26T08:45:00Z"},labResults:[{id:"l9",tipo:"lactato",nome:"Lactato",valor:1.5,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:00:00Z",tendencia:"estavel",critico:!1}]},{id:"p7",leito:"UTI 07",nome:"Ana Clara",idade:4,peso:16,diagnosticoPrincipal:"Sepse de foco pulmonar com choque s\xe9ptico",diasDeUTI:3,riscoMortality24h:.65,riscoMortality7d:.72,ultimaAtualizacao:"2025-11-26T08:45:00Z",tags:["choque s\xe9ptico","noradrenalina","antibi\xf3tico D3","lactato elevado"],vitalSigns:{temperatura:39.5,frequenciaCardiaca:160,frequenciaRespiratoria:42,pressaoArterialSistolica:85,pressaoArterialDiastolica:40,pressaoArterialMedia:48,saturacaoO2:89,escalaGlasgow:12},fluidBalance:{entrada24h:6,saida24h:1.5,balanco24h:4.5,entradaTotal:4800,saidaTotal:1200,balancoTotal:3600,diurese:.6,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[{id:"m13",nome:"Noradrenalina",tipo:"vasopressor",dose:.6,unidade:"mcg/kg/min",via:"EV",frequencia:"cont\xednuo",diasDeUso:2,inicio:"2025-11-24T10:00:00Z",ativo:!0},{id:"m14",nome:"Vancomicina",tipo:"antibiotico",dose:60,unidade:"mg/kg/dia",via:"EV",frequencia:"6/6h",diasDeUso:3,inicio:"2025-11-23T08:00:00Z",ativo:!0},{id:"m15",nome:"Meropenem",tipo:"antibiotico",dose:120,unidade:"mg/kg/dia",via:"EV",frequencia:"8/8h",diasDeUso:3,inicio:"2025-11-23T08:00:00Z",ativo:!0}],ventilationParams:{modo:"PSV",fiO2:75,peep:10,pressaoSuporte:20,volumeCorrente:7,frequenciaRespiratoria:38,relacaoIE:"1:1.5",paO2FiO2:150,ultimaAtualizacao:"2025-11-26T08:40:00Z"},labResults:[{id:"l10",tipo:"lactato",nome:"Lactato",valor:4.2,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:00:00Z",tendencia:"subindo",critico:!0},{id:"l11",tipo:"pcr",nome:"Prote\xedna C Reativa",valor:250,unidade:"mg/L",referencia:"< 3.0",data:"2025-11-26T08:00:00Z",tendencia:"subindo",critico:!0}]},{id:"p8",leito:"UTI 08",nome:"Rafael",idade:7,peso:24,diagnosticoPrincipal:"Pneumonia comunit\xe1ria grave com derrame pleural bilateral",diasDeUTI:4,riscoMortality24h:.48,riscoMortality7d:.58,ultimaAtualizacao:"2025-11-26T08:40:00Z",tags:["derrame drenado","antibi\xf3tico D4","melhora cl\xednica"],vitalSigns:{temperatura:37.5,frequenciaCardiaca:115,frequenciaRespiratoria:28,pressaoArterialSistolica:108,pressaoArterialDiastolica:62,pressaoArterialMedia:67,saturacaoO2:95,escalaGlasgow:15},fluidBalance:{entrada24h:3.2,saida24h:3,balanco24h:.2,entradaTotal:3840,saidaTotal:3600,balancoTotal:240,diurese:2.5,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[{id:"m16",nome:"Ampicilina-Sulbactam",tipo:"antibiotico",dose:200,unidade:"mg/kg/dia",via:"EV",frequencia:"6/6h",diasDeUso:4,inicio:"2025-11-22T10:00:00Z",ativo:!0}],ventilationParams:{modo:"SIMV",fiO2:45,peep:6,pressaoSuporte:10,volumeCorrente:7.5,frequenciaRespiratoria:22,relacaoIE:"1:2",paO2FiO2:260,ultimaAtualizacao:"2025-11-26T08:35:00Z"},labResults:[{id:"l12",tipo:"lactato",nome:"Lactato",valor:2,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:00:00Z",tendencia:"caindo",critico:!1}]},{id:"p9",leito:"UTI 09",nome:"Laura",idade:1,peso:8.5,diagnosticoPrincipal:"Bronquiolite viral grave em lactente",diasDeUTI:3,riscoMortality24h:.52,riscoMortality7d:.62,ultimaAtualizacao:"2025-11-26T08:35:00Z",tags:["RSV positivo","idade < 2 anos","suporte ventilat\xf3rio"],vitalSigns:{temperatura:38.8,frequenciaCardiaca:170,frequenciaRespiratoria:48,pressaoArterialSistolica:90,pressaoArterialDiastolica:50,pressaoArterialMedia:58,saturacaoO2:91,escalaGlasgow:13},fluidBalance:{entrada24h:4.5,saida24h:2.5,balanco24h:2,entradaTotal:1912,saidaTotal:1062,balancoTotal:850,diurese:1.5,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[],ventilationParams:{modo:"BiPAP",fiO2:55,peep:7,pressaoSuporte:14,frequenciaRespiratoria:35,paO2FiO2:220,ultimaAtualizacao:"2025-11-26T08:30:00Z"},labResults:[{id:"l13",tipo:"lactato",nome:"Lactato",valor:2.8,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:00:00Z",tendencia:"estavel",critico:!0}]},{id:"p10",leito:"UTI 10",nome:"Enzo",idade:9,peso:32,diagnosticoPrincipal:"Cardiopatia cong\xeanita (Tetralogia de Fallot) p\xf3s-cir\xfargica",diasDeUTI:7,riscoMortality24h:.42,riscoMortality7d:.52,ultimaAtualizacao:"2025-11-26T08:30:00Z",tags:["p\xf3s-operat\xf3rio","est\xe1vel","desmame ventilat\xf3rio"],vitalSigns:{temperatura:37,frequenciaCardiaca:110,frequenciaRespiratoria:24,pressaoArterialSistolica:112,pressaoArterialDiastolica:68,pressaoArterialMedia:72,saturacaoO2:96,escalaGlasgow:15},fluidBalance:{entrada24h:2.5,saida24h:2.8,balanco24h:-.3,entradaTotal:4800,saidaTotal:5376,balancoTotal:-576,diurese:2.2,ultimaAtualizacao:"2025-11-26T09:00:00Z"},medications:[{id:"m17",nome:"Furosemida",tipo:"diuretico",dose:1.5,unidade:"mg/kg/dose",via:"EV",frequencia:"12/12h",diasDeUso:7,inicio:"2025-11-19T08:00:00Z",ativo:!0}],ventilationParams:{modo:"PSV",fiO2:35,peep:5,pressaoSuporte:8,volumeCorrente:8.5,frequenciaRespiratoria:18,relacaoIE:"1:2",paO2FiO2:300,ultimaAtualizacao:"2025-11-26T08:25:00Z"},labResults:[{id:"l14",tipo:"lactato",nome:"Lactato",valor:1.6,unidade:"mmol/L",referencia:"< 2.0",data:"2025-11-26T08:00:00Z",tendencia:"caindo",critico:!1}]}],o={totalPacientes:r.length,taxaOcupacao:.85,casuistica:{respiratorios:r.filter(a=>a.diagnosticoPrincipal.toLowerCase().includes("pneumonia")||a.diagnosticoPrincipal.toLowerCase().includes("bronquiolite")||a.diagnosticoPrincipal.toLowerCase().includes("respirat\xf3ria")).length,sepse:r.filter(a=>a.diagnosticoPrincipal.toLowerCase().includes("sepse")).length,cardiopatias:r.filter(a=>a.diagnosticoPrincipal.toLowerCase().includes("cardiopatia")).length,trauma:r.filter(a=>a.diagnosticoPrincipal.toLowerCase().includes("trauma")).length,outros:r.filter(a=>{let e=a.diagnosticoPrincipal.toLowerCase();return!e.includes("pneumonia")&&!e.includes("bronquiolite")&&!e.includes("respirat\xf3ria")&&!e.includes("sepse")&&!e.includes("cardiopatia")&&!e.includes("trauma")}).length},germesMaisFrequentes:[{nome:"Streptococcus pneumoniae",frequencia:4,resistencia:["Penicilina"]},{nome:"Staphylococcus aureus",frequencia:3,resistencia:["Oxacilina"]},{nome:"Escherichia coli",frequencia:2,resistencia:["Ampicilina","Cefalosporinas"]},{nome:"Klebsiella pneumoniae",frequencia:2,resistencia:["Cefalosporinas de 3\xaa gera\xe7\xe3o"]}],perfilResistencia:[{antibiotico:"Ampicilina",taxaResistencia:.65,germes:["E. coli","K. pneumoniae"]},{antibiotico:"Ceftriaxona",taxaResistencia:.35,germes:["K. pneumoniae","E. coli"]},{antibiotico:"Oxacilina",taxaResistencia:.4,germes:["S. aureus"]}],periodo:{inicio:"2025-10-27T00:00:00Z",fim:"2025-11-26T23:59:59Z"}};function c(a){let e=a.labResults.find(a=>"lactato"===a.tipo);return e&&"number"==typeof e.valor?e.valor:0}function d(a){return a.medications.some(a=>"vasopressor"===a.tipo&&a.ativo)}let m=r.map(function(a){return{...a,sofa:function(a){let e=0;if(a.ventilationParams?.paO2FiO2){let i=a.ventilationParams.paO2FiO2;i<100?e+=4:i<200?e+=3:i<300?e+=2:i<400&&(e+=1)}else a.vitalSigns.saturacaoO2<92&&(e+=2);if(d(a)?e+=3:a.vitalSigns.pressaoArterialMedia<70&&(e+=1),a.vitalSigns.escalaGlasgow){let i=a.vitalSigns.escalaGlasgow;i<6?e+=4:i<10?e+=3:i<13?e+=2:i<15&&(e+=1)}let i=c(a);return i>=4?e+=2:i>=3&&(e+=1),Math.min(e,24)}(a),lactato:c(a),tendenciaLactato:function(a){let e=a.labResults.find(a=>"lactato"===a.tipo);return e?.tendencia||"estavel"}(a),emVentilacaoMecanica:!!a.ventilationParams,emVasopressor:d(a),emAntibiotico:a.medications.some(a=>"antibiotico"===a.tipo&&a.ativo),diasEmAntibioticoAtual:function(a){let e=a.medications.find(a=>"antibiotico"===a.tipo&&a.ativo);return e?.diasDeUso||0}(a),temperatura:a.vitalSigns.temperatura,mapaPressaoMedia:a.vitalSigns.pressaoArterialMedia,instabilityScore:l(a),responseToTherapyScore:.5}});function u(){return m.filter(a=>void 0!==a.ventilationParams).length}function p(){return m.filter(a=>a.medications.some(a=>"vasopressor"===a.tipo&&a.ativo)).length}function h(){return m.filter(a=>"alto"===n(l(a))||a.riscoMortality24h>=.7).length}var v=i(3369);let x=["Quais s\xe3o os 3 pacientes mais graves nas pr\xf3ximas 24h?","Me d\xea um resumo do paciente da UTI 03","Como est\xe1 o perfil de germes da unidade?","Mostre os exames laboratoriais recentes","Calcule a manuten\xe7\xe3o h\xeddrica para uma crian\xe7a de 12 kg"];function j({onPromptClick:a}){let{setPreview:e}=(0,v.u)(),i=m.length,t=u(),l=p(),n=h();return(0,s.jsxs)("div",{className:"context-snapshot",children:[(0,s.jsxs)("div",{className:"snapshot-cards",children:[(0,s.jsxs)("button",{type:"button",className:"snapshot-card snapshot-card-clickable",onClick:()=>e("allPatients",{patients:m}),children:[s.jsx("div",{className:"snapshot-card-label",children:"Total de Pacientes"}),s.jsx("div",{className:"snapshot-card-value",children:i})]}),(0,s.jsxs)("button",{type:"button",className:"snapshot-card snapshot-card-clickable",onClick:()=>e("ventilated"),children:[s.jsx("div",{className:"snapshot-card-label",children:"Em Ventila\xe7\xe3o Mec\xe2nica"}),s.jsx("div",{className:"snapshot-card-value",children:t})]}),(0,s.jsxs)("button",{type:"button",className:"snapshot-card snapshot-card-clickable",onClick:()=>e("vasopressors"),children:[s.jsx("div",{className:"snapshot-card-label",children:"Em Droga Vasoativa"}),s.jsx("div",{className:"snapshot-card-value",children:l})]}),(0,s.jsxs)("button",{type:"button",className:"snapshot-card snapshot-card-highlight snapshot-card-clickable",onClick:()=>e("high-risk"),children:[s.jsx("div",{className:"snapshot-card-label",children:"Alto Risco (24h)"}),s.jsx("div",{className:"snapshot-card-value snapshot-card-value-highlight",children:n})]})]}),(0,s.jsxs)("div",{className:"quick-prompts-section",children:[s.jsx("div",{className:"quick-prompts-label",children:"Perguntas sugeridas:"}),s.jsx("div",{className:"quick-prompts",children:x.map((e,i)=>s.jsx("button",{type:"button",className:"quick-prompt-chip",onClick:()=>a(e),children:e},i))})]})]})}function g(){return(0,s.jsxs)("aside",{className:"left-sidebar",children:[s.jsx("div",{className:"sidebar-content",children:(0,s.jsxs)("nav",{className:"sidebar-nav",children:[(0,s.jsxs)("div",{className:"sidebar-section",children:[s.jsx("h3",{className:"sidebar-title",children:"Menu"}),(0,s.jsxs)("ul",{className:"sidebar-list",children:[s.jsx("li",{className:"sidebar-item",children:s.jsx("button",{className:"sidebar-link",type:"button",children:"\uD83D\uDCAC Conversas salvas"})}),s.jsx("li",{className:"sidebar-item",children:s.jsx("button",{className:"sidebar-link",type:"button",children:"\uD83D\uDCDA Educa\xe7\xe3o / Tele-educa\xe7\xe3o"})})]})]}),(0,s.jsxs)("div",{className:"sidebar-section",children:[s.jsx("h3",{className:"sidebar-title",children:"Agentes"}),(0,s.jsxs)("ul",{className:"sidebar-list",children:[s.jsx("li",{className:"sidebar-item",children:s.jsx("button",{className:"sidebar-link",type:"button",children:"\uD83D\uDC68‍⚕️ Assistente Geral"})}),s.jsx("li",{className:"sidebar-item",children:s.jsx("button",{className:"sidebar-link",type:"button",children:"❤️ Cardiologia Pedi\xe1trica"})}),s.jsx("li",{className:"sidebar-item",children:s.jsx("button",{className:"sidebar-link",type:"button",children:"\uD83E\uDEC1 Pneumologia Pedi\xe1trica"})}),s.jsx("li",{className:"sidebar-item",children:s.jsx("button",{className:"sidebar-link",type:"button",children:"\uD83E\uDDE0 Neurologia Pedi\xe1trica"})})]})]})]})}),s.jsx("div",{className:"sidebar-footer",children:(0,s.jsxs)("div",{className:"sidebar-user",children:[s.jsx("div",{className:"sidebar-user-avatar",children:"A"}),(0,s.jsxs)("div",{className:"sidebar-user-info",children:[s.jsx("span",{className:"sidebar-user-name",children:"Arist\xf3teles"}),s.jsx("span",{className:"sidebar-user-role",children:"UTI Pedi\xe1trica A"})]})]})})]})}let b=function(){for(var a,e,i=0,s="",t=arguments.length;i<t;i++)(a=arguments[i])&&(e=function a(e){var i,s,t="";if("string"==typeof e||"number"==typeof e)t+=e;else if("object"==typeof e){if(Array.isArray(e)){var l=e.length;for(i=0;i<l;i++)e[i]&&(s=a(e[i]))&&(t&&(t+=" "),t+=s)}else for(s in e)e[s]&&(t&&(t+=" "),t+=s)}return t}(a))&&(s&&(s+=" "),s+=e);return s};function N(){let{previewType:a,previewPayload:e,clearPreview:i}=(0,v.u)();return a?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"drawer-overlay",onClick:i}),(0,s.jsxs)("aside",{className:"preview-drawer",children:[(0,s.jsxs)("div",{className:"drawer-header",children:[(0,s.jsxs)("h3",{className:"drawer-title",children:["icu-overview"===a&&"Vis\xe3o Geral da UTI","allPatients"===a&&"Todos os Pacientes da UTI","ventilated"===a&&"Pacientes em Ventila\xe7\xe3o Mec\xe2nica","vasopressors"===a&&"Pacientes em Droga Vasoativa","high-risk"===a&&"Pacientes em Alto Risco (24h)","patient"===a&&"Resumo do Paciente","lab-results"===a&&"Exames Laboratoriais Recentes","unit-profile"===a&&"Perfil Epidemiol\xf3gico da Unidade"]}),s.jsx("button",{type:"button",className:"drawer-close-btn",onClick:i,"aria-label":"Fechar preview",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"drawer-close-icon",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"drawer-body",children:["allPatients"===a&&s.jsx(P,{payload:e}),"ventilated"===a&&s.jsx(T,{}),"vasopressors"===a&&s.jsx(w,{}),"high-risk"===a&&s.jsx(y,{}),"patient"===a&&s.jsx(A,{payload:e}),"icu-overview"===a&&s.jsx(f,{})]})]})]}):null}function f(){let a=m.length,e=u(),i=p(),t=h();return s.jsx("div",{className:"preview-content",children:(0,s.jsxs)("div",{className:"preview-stats",children:[(0,s.jsxs)("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-stat-label",children:"Total de Pacientes"}),s.jsx("div",{className:"preview-stat-value",children:a})]}),(0,s.jsxs)("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-stat-label",children:"Em Ventila\xe7\xe3o Mec\xe2nica"}),s.jsx("div",{className:"preview-stat-value",children:e})]}),(0,s.jsxs)("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-stat-label",children:"Em Droga Vasoativa"}),s.jsx("div",{className:"preview-stat-value",children:i})]}),(0,s.jsxs)("div",{className:"preview-stat",children:[s.jsx("div",{className:"preview-stat-label",children:"Alto Risco (24h)"}),s.jsx("div",{className:"preview-stat-value preview-stat-highlight",children:t})]})]})})}function P({payload:a}){let e=a?.patients||m;return s.jsx("div",{className:"space-y-3",children:e.map(a=>{let e=void 0!==a.ventilationParams,i=a.medications.some(a=>"vasopressor"===a.tipo&&a.ativo),t=Math.round(100*a.riscoMortality24h);return(0,s.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:a.leito}),s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:a.nome}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:[a.idade," anos • ",a.diagnosticoPrincipal]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[s.jsx("span",{className:"text-[11px] font-medium uppercase tracking-wide text-slate-500",children:"Risco 24h"}),(0,s.jsxs)("span",{className:b("mt-1 inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold",t>=70?"bg-rose-50 text-rose-600":t>=50?"bg-amber-50 text-amber-600":"bg-emerald-50 text-emerald-600"),children:[t,"%"]})]})]}),(0,s.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-[11px]",children:[(0,s.jsxs)("span",{className:"inline-flex items-center rounded-full bg-slate-50 px-2 py-0.5 text-slate-600",children:["VM: ",s.jsx("span",{className:"ml-1 font-medium",children:e?"Sim":"N\xe3o"})]}),(0,s.jsxs)("span",{className:"inline-flex items-center rounded-full bg-slate-50 px-2 py-0.5 text-slate-600",children:["Vasopressor:"," ",s.jsx("span",{className:"ml-1 font-medium",children:i?"Sim":"N\xe3o"})]})]})]},a.id)})})}function T(){let a=m.filter(a=>void 0!==a.ventilationParams);return s.jsx("div",{className:"preview-content",children:s.jsx("div",{className:"preview-list",children:a.map(a=>(0,s.jsxs)("div",{className:"preview-item",children:[(0,s.jsxs)("div",{className:"preview-item-header",children:[s.jsx("strong",{children:a.leito})," • ",a.nome]}),(0,s.jsxs)("div",{className:"preview-item-details",children:[a.ventilationParams&&(0,s.jsxs)("div",{children:["VM: ",a.ventilationParams.modo,", FiO2 ",a.ventilationParams.fiO2,"%, PEEP ",a.ventilationParams.peep," cmH2O"]}),(0,s.jsxs)("div",{children:["Risco 24h: ",(100*a.riscoMortality24h).toFixed(0),"%"]})]})]},a.id))})})}function w(){let a=m.filter(a=>a.medications.some(a=>"vasopressor"===a.tipo&&a.ativo));return s.jsx("div",{className:"preview-content",children:s.jsx("div",{className:"preview-list",children:a.map(a=>{let e=a.medications.find(a=>"vasopressor"===a.tipo&&a.ativo);return(0,s.jsxs)("div",{className:"preview-item",children:[(0,s.jsxs)("div",{className:"preview-item-header",children:[s.jsx("strong",{children:a.leito})," • ",a.nome]}),(0,s.jsxs)("div",{className:"preview-item-details",children:[e&&(0,s.jsxs)("div",{children:["Vasopressor: ",e.nome," ",e.dose]}),(0,s.jsxs)("div",{children:["MAP: ",a.vitalSigns.pressaoArterialMedia," mmHg"]}),(0,s.jsxs)("div",{children:["Risco 24h: ",(100*a.riscoMortality24h).toFixed(0),"%"]})]})]},a.id)})})})}function y(){let a=m.filter(a=>"alto"===n(l(a))||a.riscoMortality24h>=.7);return s.jsx("div",{className:"preview-content",children:s.jsx("div",{className:"preview-list",children:a.map(a=>(0,s.jsxs)("div",{className:"preview-item",children:[(0,s.jsxs)("div",{className:"preview-item-header",children:[s.jsx("strong",{children:a.leito})," • ",a.nome]}),(0,s.jsxs)("div",{className:"preview-item-details",children:[(0,s.jsxs)("div",{children:["Risco 24h: ",(100*a.riscoMortality24h).toFixed(0),"%"]}),(0,s.jsxs)("div",{children:["Diagn\xf3stico: ",a.diagnosticoPrincipal]}),a.ventilationParams&&s.jsx("div",{children:"VM: Sim"}),a.medications.some(a=>"vasopressor"===a.tipo&&a.ativo)&&s.jsx("div",{children:"Vasopressor: Sim"})]})]},a.id))})})}function A({payload:a}){if(!a||!a.patient)return s.jsx("div",{className:"preview-content",children:s.jsx("div",{className:"preview-empty",children:s.jsx("p",{children:"Dados do paciente n\xe3o dispon\xedveis."})})});let e=a.patient;return s.jsx("div",{className:"preview-content",children:(0,s.jsxs)("div",{className:"preview-patient-details",children:[(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Idade:"})," ",e.idade," ",1===e.idade?"ano":"anos"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Peso:"})," ",e.peso?.toFixed(1)||"N/A"," kg"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Diagn\xf3stico:"})," ",e.diagnosticoPrincipal]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Risco 24h:"})," ",(100*e.riscoMortality24h).toFixed(0),"%"]})]})})}function S({children:a}){return(0,s.jsxs)("div",{className:"app-shell",children:[s.jsx(g,{}),s.jsx("main",{className:"main-chat-area",children:a}),s.jsx(N,{})]})}function C({value:a,onChange:e,onSend:i,onKeyDown:l,loading:n,currentAgent:r,onAgentChange:o}){let[c,d]=(0,t.useState)(!1),m=(0,t.useRef)(null);function u(a){switch(d(!1),a){case"cardiology":o("cardiology"),e("Ative o agente de Cardiologia Pedi\xe1trica");break;case"pneumology":o("pneumology"),e("Ative o agente de Pneumologia Pedi\xe1trica");break;case"neurology":o("neurology"),e("Ative o agente de Neurologia Pedi\xe1trica")}}return s.jsx("div",{className:"chat-input-container",children:(0,s.jsxs)("div",{className:"chat-input-wrapper",children:[s.jsx("button",{type:"button",className:"chat-input-add-btn",onClick:()=>d(!c),"aria-label":"Mais op\xe7\xf5es",title:"Mais op\xe7\xf5es",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"chat-input-add-icon",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),c&&(0,s.jsxs)("div",{className:"chat-input-menu",ref:m,children:[(0,s.jsxs)("div",{className:"menu-section",children:[s.jsx("div",{className:"menu-title",children:"A\xe7\xf5es"}),s.jsx("button",{type:"button",className:"menu-item",onClick:()=>u("document"),children:"\uD83D\uDCC4 Enviar documento"}),s.jsx("button",{type:"button",className:"menu-item",onClick:()=>u("literature"),children:"\uD83D\uDCDA Investigar literatura m\xe9dica"}),s.jsx("button",{type:"button",className:"menu-item",onClick:()=>u("education"),children:"\uD83C\uDF93 Tele-educa\xe7\xe3o"})]}),(0,s.jsxs)("div",{className:"menu-section",children:[s.jsx("div",{className:"menu-title",children:"Parecer Especializado"}),s.jsx("button",{type:"button",className:"menu-item",onClick:()=>u("cardiology"),children:"❤️ Cardiologia Pedi\xe1trica"}),s.jsx("button",{type:"button",className:"menu-item",onClick:()=>u("pneumology"),children:"\uD83E\uDEC1 Pneumologia Pedi\xe1trica"}),s.jsx("button",{type:"button",className:"menu-item",onClick:()=>u("neurology"),children:"\uD83E\uDDE0 Neurologia Pedi\xe1trica"})]})]}),s.jsx("input",{type:"text",placeholder:"Digite sua pergunta...",className:"chat-input-field",value:a,onChange:a=>e(a.target.value),onKeyDown:l,disabled:n}),s.jsx("button",{type:"button",className:"chat-input-voice-btn","aria-label":"Entrada por voz",title:"Entrada por voz (em breve)",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"chat-input-voice-icon",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1v6m0 6v6m5-13a5 5 0 01-10 0M7 21h10M7 21a2 2 0 01-2-2v-6a2 2 0 012-2h10a2 2 0 012 2v6a2 2 0 01-2 2"})})}),s.jsx("button",{className:"chat-input-send-btn",type:"button",onClick:()=>void i(),disabled:n||!a.trim(),"aria-label":"Enviar mensagem",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"chat-input-send-icon",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]})})}function D(){return s.jsx("div",{className:"loading-skeleton",children:["Acessando prontu\xe1rios eletr\xf4nicos…","Buscando exames laboratoriais recentes…","Analisando exames de imagem…","Revisando prescri\xe7\xf5es e doses calculadas…"].map((a,e)=>(0,s.jsxs)("div",{className:"loading-step",children:[s.jsx("div",{className:"loading-dot"}),s.jsx("span",{children:a})]},e))})}function k({patients:a}){return(0,s.jsxs)("div",{className:"prioritization-panel",children:[s.jsx("div",{className:"panel-header",children:(0,s.jsxs)("h3",{className:"panel-title",children:["TOP ",a.length," Pacientes por Prioridade"]})}),s.jsx("div",{className:"prioritization-list",children:a.map((a,e)=>{let i=n(a.riscoMortality24h),t=a.labResults.find(a=>"lactato"===a.tipo),l=t&&"number"==typeof t.valor?t.valor:0;return(0,s.jsxs)("div",{className:"prioritization-card",children:[(0,s.jsxs)("div",{className:"prioritization-rank",children:["#",e+1]}),(0,s.jsxs)("div",{className:"prioritization-content",children:[(0,s.jsxs)("div",{className:"prioritization-header",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"prioritization-name",children:[a.leito," • ",a.nome]}),(0,s.jsxs)("div",{className:"prioritization-meta",children:[a.idade," ",1===a.idade?"ano":"anos"," • ",a.peso?.toFixed(1)||"N/A"," kg"]})]}),(0,s.jsxs)("span",{className:`risk-pill ${"alto"===i?"risk-high":"moderado"===i?"risk-medium":"risk-low"}`,children:["Risco ",(100*a.riscoMortality24h).toFixed(0),"%"]})]}),s.jsx("div",{className:"prioritization-diagnosis",children:a.diagnosticoPrincipal}),(0,s.jsxs)("div",{className:"prioritization-vitals",children:[(0,s.jsxs)("div",{className:"vital-item",children:[s.jsx("span",{className:"vital-label",children:"MAP:"}),(0,s.jsxs)("span",{className:a.vitalSigns.pressaoArterialMedia<65?"vital-critical":"",children:[a.vitalSigns.pressaoArterialMedia," mmHg"]})]}),(0,s.jsxs)("div",{className:"vital-item",children:[s.jsx("span",{className:"vital-label",children:"FC:"}),(0,s.jsxs)("span",{children:[a.vitalSigns.frequenciaCardiaca," bpm"]})]}),(0,s.jsxs)("div",{className:"vital-item",children:[s.jsx("span",{className:"vital-label",children:"SpO2:"}),(0,s.jsxs)("span",{className:a.vitalSigns.saturacaoO2<92?"vital-critical":"",children:[a.vitalSigns.saturacaoO2,"%"]})]}),l>0&&(0,s.jsxs)("div",{className:"vital-item",children:[s.jsx("span",{className:"vital-label",children:"Lactato:"}),(0,s.jsxs)("span",{className:l>=3?"vital-critical":"",children:[l.toFixed(1)," mmol/L"]})]})]}),(0,s.jsxs)("div",{className:"prioritization-support",children:[a.medications.some(a=>"vasopressor"===a.tipo&&a.ativo)&&s.jsx("span",{className:"support-badge vasopressor",children:"Vasopressor"}),a.ventilationParams&&s.jsx("span",{className:"support-badge ventilation",children:"VM"})]})]})]},a.id)})})]})}function M({patients:a}){let e=a=>{let e=a.labResults.find(a=>"lactato"===a.tipo),i=a.labResults.find(a=>"pcr"===a.tipo);return{lactato:e?[{value:"number"==typeof e.valor?(.85*e.valor).toFixed(1):"N/A",date:"24h atr\xe1s"},{value:"number"==typeof e.valor?e.valor.toFixed(1):"N/A",date:"Atual",current:!0}]:[],pcr:i?[{value:"number"==typeof i.valor?(.9*i.valor).toFixed(0):"N/A",date:"24h atr\xe1s"},{value:"number"==typeof i.valor?i.valor.toFixed(0):"N/A",date:"Atual",current:!0}]:[],lactatoTrend:e?.tendencia}},i=a.slice(0,3);return(0,s.jsxs)("div",{className:"lab-panel",children:[s.jsx("div",{className:"panel-header",children:s.jsx("h3",{className:"panel-title",children:"Exames Laboratoriais com Tend\xeancia"})}),s.jsx("div",{className:"lab-panel-content",children:i.map(a=>{let i=e(a),t=a.labResults.find(a=>"lactato"===a.tipo),l=t&&"number"==typeof t.valor?t.valor:null,n=a.labResults.find(a=>"pcr"===a.tipo),r=n&&"number"==typeof n.valor?n.valor:null;return(0,s.jsxs)("div",{className:"lab-patient-card",children:[(0,s.jsxs)("div",{className:"lab-patient-header",children:[(0,s.jsxs)("div",{className:"lab-patient-name",children:[a.leito," • ",a.nome]}),(0,s.jsxs)("div",{className:"lab-patient-meta",children:[a.idade," ",1===a.idade?"ano":"anos"," • ",a.peso?.toFixed(1)||"N/A"," kg"]})]}),null!==l&&(0,s.jsxs)("div",{className:"lab-item",children:[(0,s.jsxs)("div",{className:"lab-item-header",children:[s.jsx("span",{className:"lab-item-name",children:"Lactato"}),s.jsx("span",{className:`lab-trend ${"subindo"===i.lactatoTrend?"trend-up":"caindo"===i.lactatoTrend?"trend-down":"trend-stable"}`,children:"subindo"===i.lactatoTrend?"↑":"caindo"===i.lactatoTrend?"↓":"="})]}),s.jsx("div",{className:"lab-values",children:i.lactato.map((a,e)=>(0,s.jsxs)("div",{className:`lab-value ${a.current?"lab-current":""}`,children:[(0,s.jsxs)("span",{className:"lab-value-number",children:[a.value," mmol/L"]}),s.jsx("span",{className:"lab-value-date",children:a.date})]},e))})]}),null!==r&&(0,s.jsxs)("div",{className:"lab-item",children:[(0,s.jsxs)("div",{className:"lab-item-header",children:[s.jsx("span",{className:"lab-item-name",children:"PCR"}),s.jsx("span",{className:"lab-trend trend-stable",children:"="})]}),s.jsx("div",{className:"lab-values",children:i.pcr.map((a,e)=>(0,s.jsxs)("div",{className:`lab-value ${a.current?"lab-current":""}`,children:[(0,s.jsxs)("span",{className:"lab-value-number",children:[a.value," mg/L"]}),s.jsx("span",{className:"lab-value-date",children:a.date})]},e))})]}),null===l&&null===r&&s.jsx("div",{className:"lab-no-data",children:"Sem exames laboratoriais recentes"})]},a.id)})})]})}function q(){let a=o.totalPacientes,e={respiratorios:(o.casuistica.respiratorios/a*100).toFixed(0),sepse:(o.casuistica.sepse/a*100).toFixed(0),cardiopatias:(o.casuistica.cardiopatias/a*100).toFixed(0),trauma:(o.casuistica.trauma/a*100).toFixed(0)};return(0,s.jsxs)("div",{className:"unit-profile-panel",children:[(0,s.jsxs)("div",{className:"panel-header",children:[s.jsx("h3",{className:"panel-title",children:"Perfil Epidemiol\xf3gico da Unidade"}),s.jsx("div",{className:"unit-profile-period",children:"\xdaltimos 30 dias"})]}),(0,s.jsxs)("div",{className:"unit-profile-sections",children:[(0,s.jsxs)("div",{className:"unit-section",children:[s.jsx("h4",{className:"unit-section-title",children:"Casu\xedstica"}),(0,s.jsxs)("div",{className:"unit-casuistica",children:[(0,s.jsxs)("div",{className:"unit-casuistica-item",children:[s.jsx("div",{className:"unit-casuistica-label",children:"Respirat\xf3rios"}),s.jsx("div",{className:"unit-casuistica-bar",children:s.jsx("div",{className:"unit-casuistica-fill",style:{width:`${e.respiratorios}%`}})}),(0,s.jsxs)("div",{className:"unit-casuistica-value",children:[o.casuistica.respiratorios,"/",a," (",e.respiratorios,"%)"]})]}),(0,s.jsxs)("div",{className:"unit-casuistica-item",children:[s.jsx("div",{className:"unit-casuistica-label",children:"Sepse"}),s.jsx("div",{className:"unit-casuistica-bar",children:s.jsx("div",{className:"unit-casuistica-fill",style:{width:`${e.sepse}%`}})}),(0,s.jsxs)("div",{className:"unit-casuistica-value",children:[o.casuistica.sepse,"/",a," (",e.sepse,"%)"]})]}),(0,s.jsxs)("div",{className:"unit-casuistica-item",children:[s.jsx("div",{className:"unit-casuistica-label",children:"Cardiopatias"}),s.jsx("div",{className:"unit-casuistica-bar",children:s.jsx("div",{className:"unit-casuistica-fill",style:{width:`${e.cardiopatias}%`}})}),(0,s.jsxs)("div",{className:"unit-casuistica-value",children:[o.casuistica.cardiopatias,"/",a," (",e.cardiopatias,"%)"]})]}),(0,s.jsxs)("div",{className:"unit-casuistica-item",children:[s.jsx("div",{className:"unit-casuistica-label",children:"Trauma"}),s.jsx("div",{className:"unit-casuistica-bar",children:s.jsx("div",{className:"unit-casuistica-fill",style:{width:`${e.trauma}%`}})}),(0,s.jsxs)("div",{className:"unit-casuistica-value",children:[o.casuistica.trauma,"/",a," (",e.trauma,"%)"]})]})]})]}),(0,s.jsxs)("div",{className:"unit-section",children:[s.jsx("h4",{className:"unit-section-title",children:"Germes Mais Frequentes"}),s.jsx("div",{className:"unit-germs",children:o.germesMaisFrequentes.map((a,e)=>(0,s.jsxs)("div",{className:"unit-germ-item",children:[s.jsx("div",{className:"unit-germ-name",children:a.nome}),(0,s.jsxs)("div",{className:"unit-germ-freq",children:[a.frequencia," ",1===a.frequencia?"caso":"casos"]}),a.resistencia&&a.resistencia.length>0&&(0,s.jsxs)("div",{className:"unit-germ-resistance",children:["Resist\xeancia: ",a.resistencia.join(", ")]})]},e))})]}),(0,s.jsxs)("div",{className:"unit-section",children:[s.jsx("h4",{className:"unit-section-title",children:"Perfil de Resist\xeancia Antimicrobiana"}),s.jsx("div",{className:"unit-resistance",children:o.perfilResistencia.map((a,e)=>(0,s.jsxs)("div",{className:"unit-resistance-item",children:[(0,s.jsxs)("div",{className:"unit-resistance-header",children:[s.jsx("span",{className:"unit-resistance-antibiotic",children:a.antibiotico}),(0,s.jsxs)("span",{className:"unit-resistance-rate",children:[(100*a.taxaResistencia).toFixed(0),"%"]})]}),s.jsx("div",{className:"unit-resistance-germs",children:a.germes.join(", ")})]},e))})]})]})]})}function R({patient:a}){let e=a.labResults.find(a=>"lactato"===a.tipo),i=e&&"number"==typeof e.valor?e.valor:0,t=a.medications.some(a=>"vasopressor"===a.tipo&&a.ativo),l=a.medications.filter(a=>"antibiotico"===a.tipo&&a.ativo);return(0,s.jsxs)("div",{className:"patient-detail-panel",children:[(0,s.jsxs)("div",{className:"panel-header",children:[(0,s.jsxs)("h3",{className:"panel-title",children:[a.leito," • ",a.nome]}),(0,s.jsxs)("span",{className:`risk-pill ${"alto"===n(a.riscoMortality24h)?"risk-high":"moderado"===n(a.riscoMortality24h)?"risk-medium":"risk-low"}`,children:["Risco ",(100*a.riscoMortality24h).toFixed(0),"%"]})]}),(0,s.jsxs)("div",{className:"patient-detail-sections",children:[(0,s.jsxs)("div",{className:"detail-section",children:[s.jsx("h4",{className:"detail-section-title",children:"Resumo"}),(0,s.jsxs)("div",{className:"detail-content",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Idade:"})," ",a.idade," ",1===a.idade?"ano":"anos"," • ",s.jsx("strong",{children:"Peso:"})," ",a.peso?.toFixed(1)||"N/A"," kg"]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Diagn\xf3stico:"})," ",a.diagnosticoPrincipal]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Dias de UTI:"})," ",a.diasDeUTI," ",1===a.diasDeUTI?"dia":"dias"]})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[s.jsx("h4",{className:"detail-section-title",children:"Sinais Vitais"}),(0,s.jsxs)("div",{className:"vitals-grid",children:[(0,s.jsxs)("div",{className:"vital-card",children:[s.jsx("div",{className:"vital-label",children:"Temperatura"}),(0,s.jsxs)("div",{className:"vital-value",children:[a.vitalSigns.temperatura.toFixed(1),"\xb0C"]})]}),(0,s.jsxs)("div",{className:"vital-card",children:[s.jsx("div",{className:"vital-label",children:"FC"}),(0,s.jsxs)("div",{className:"vital-value",children:[a.vitalSigns.frequenciaCardiaca," bpm"]})]}),(0,s.jsxs)("div",{className:"vital-card",children:[s.jsx("div",{className:"vital-label",children:"FR"}),(0,s.jsxs)("div",{className:"vital-value",children:[a.vitalSigns.frequenciaRespiratoria," rpm"]})]}),(0,s.jsxs)("div",{className:"vital-card",children:[s.jsx("div",{className:"vital-label",children:"MAP"}),(0,s.jsxs)("div",{className:`vital-value ${a.vitalSigns.pressaoArterialMedia<65?"vital-critical":""}`,children:[a.vitalSigns.pressaoArterialMedia," mmHg"]})]}),(0,s.jsxs)("div",{className:"vital-card",children:[s.jsx("div",{className:"vital-label",children:"SpO2"}),(0,s.jsxs)("div",{className:`vital-value ${a.vitalSigns.saturacaoO2<92?"vital-critical":""}`,children:[a.vitalSigns.saturacaoO2,"%"]})]}),a.vitalSigns.escalaGlasgow&&(0,s.jsxs)("div",{className:"vital-card",children:[s.jsx("div",{className:"vital-label",children:"GCS"}),s.jsx("div",{className:"vital-value",children:a.vitalSigns.escalaGlasgow})]})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[s.jsx("h4",{className:"detail-section-title",children:"Balan\xe7o H\xeddrico (24h)"}),(0,s.jsxs)("div",{className:"fluid-balance-grid",children:[(0,s.jsxs)("div",{className:"fluid-item",children:[s.jsx("div",{className:"fluid-label",children:"Entrada"}),(0,s.jsxs)("div",{className:"fluid-value",children:[a.fluidBalance.entrada24h.toFixed(1)," ml/kg/h"]})]}),(0,s.jsxs)("div",{className:"fluid-item",children:[s.jsx("div",{className:"fluid-label",children:"Sa\xedda"}),(0,s.jsxs)("div",{className:"fluid-value",children:[a.fluidBalance.saida24h.toFixed(1)," ml/kg/h"]})]}),(0,s.jsxs)("div",{className:"fluid-item",children:[s.jsx("div",{className:"fluid-label",children:"Balan\xe7o"}),(0,s.jsxs)("div",{className:`fluid-value ${a.fluidBalance.balanco24h>3?"fluid-positive":a.fluidBalance.balanco24h<-1?"fluid-negative":""}`,children:[a.fluidBalance.balanco24h>0?"+":"",a.fluidBalance.balanco24h.toFixed(1)," ml/kg/h"]})]}),(0,s.jsxs)("div",{className:"fluid-item",children:[s.jsx("div",{className:"fluid-label",children:"Diurese"}),(0,s.jsxs)("div",{className:`fluid-value ${a.fluidBalance.diurese<1?"fluid-critical":""}`,children:[a.fluidBalance.diurese.toFixed(1)," ml/kg/h"]})]})]})]}),t&&(0,s.jsxs)("div",{className:"detail-section",children:[s.jsx("h4",{className:"detail-section-title",children:"Drogas Vasoativas"}),s.jsx("div",{className:"medications-list",children:a.medications.filter(a=>"vasopressor"===a.tipo&&a.ativo).map(a=>(0,s.jsxs)("div",{className:"medication-item",children:[s.jsx("strong",{children:a.nome}),": ",a.dose," ",a.unidade]},a.id))})]}),l.length>0&&(0,s.jsxs)("div",{className:"detail-section",children:[s.jsx("h4",{className:"detail-section-title",children:"Antibi\xf3ticos"}),s.jsx("div",{className:"medications-list",children:l.map(a=>(0,s.jsxs)("div",{className:"medication-item",children:[s.jsx("strong",{children:a.nome}),": ",a.dose," ",a.unidade," • D",a.diasDeUso]},a.id))})]}),a.ventilationParams&&(0,s.jsxs)("div",{className:"detail-section",children:[s.jsx("h4",{className:"detail-section-title",children:"Ventila\xe7\xe3o Mec\xe2nica"}),(0,s.jsxs)("div",{className:"ventilation-params",children:[(0,s.jsxs)("div",{className:"vent-param",children:[s.jsx("span",{className:"vent-label",children:"Modo:"}),s.jsx("span",{className:"vent-value",children:a.ventilationParams.modo})]}),(0,s.jsxs)("div",{className:"vent-param",children:[s.jsx("span",{className:"vent-label",children:"FiO2:"}),(0,s.jsxs)("span",{className:"vent-value",children:[a.ventilationParams.fiO2,"%"]})]}),(0,s.jsxs)("div",{className:"vent-param",children:[s.jsx("span",{className:"vent-label",children:"PEEP:"}),(0,s.jsxs)("span",{className:"vent-value",children:[a.ventilationParams.peep," cmH2O"]})]}),a.ventilationParams.pressaoSuporte&&(0,s.jsxs)("div",{className:"vent-param",children:[s.jsx("span",{className:"vent-label",children:"PS:"}),(0,s.jsxs)("span",{className:"vent-value",children:[a.ventilationParams.pressaoSuporte," cmH2O"]})]}),a.ventilationParams.paO2FiO2&&(0,s.jsxs)("div",{className:"vent-param",children:[s.jsx("span",{className:"vent-label",children:"PaO2/FiO2:"}),s.jsx("span",{className:"vent-value",children:a.ventilationParams.paO2FiO2})]})]})]}),i>0&&(0,s.jsxs)("div",{className:"detail-section",children:[s.jsx("h4",{className:"detail-section-title",children:"Exames Laboratoriais"}),s.jsx("div",{className:"lab-results",children:(0,s.jsxs)("div",{className:"lab-item",children:[s.jsx("span",{className:"lab-label",children:"Lactato:"}),(0,s.jsxs)("span",{className:`lab-value ${i>=3?"lab-critical":""}`,children:[i.toFixed(1)," mmol/L"]}),e?.tendencia&&(0,s.jsxs)("span",{className:"lab-trend",children:["(",e.tendencia,")"]})]})})]})]})]})}function O(){let[a,e]=(0,t.useState)([]),[i,l]=(0,t.useState)(!1),[n,r]=(0,t.useState)(""),o=(0,t.useRef)(null),c=(0,t.useRef)(`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),[d,m]=(0,t.useState)("default");async function u(a){let s=a||n.trim();if(!s||i)return;l(!0);let t={id:crypto.randomUUID(),role:"user",text:s};e(a=>[...a,t]),r("");try{let a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s,focusedPatientId:null,sessionId:c.current,userId:"user-mock",role:"plantonista",unidade:"UTI Pedi\xe1trica A",turno:"manh\xe3",currentAgent:d})});if(!a.ok)throw Error("Erro na API do agent");let i=await a.json();i.agent&&i.agent!==d&&m(i.agent);let t={id:crypto.randomUUID(),role:"agent",text:i.reply,intent:i.intent,topPatients:i.topPatients,focusedPatient:i.focusedPatient,showIcuPanel:i.showIcuPanel,showLabPanel:i.showLabPanel,showUnitProfilePanel:i.showUnitProfilePanel};e(a=>[...a,t])}catch(i){let a={id:crypto.randomUUID(),role:"agent",text:"Tive um problema para processar essa pergunta no prot\xf3tipo. Tente novamente em alguns instantes. Lembrando que este ambiente usa apenas dados fict\xedcios para demonstra\xe7\xe3o."};e(e=>[...e,a])}finally{l(!1)}}return(0,s.jsxs)("div",{className:"app-wrapper",children:[(0,s.jsxs)("header",{className:"hc-topbar",children:[(0,s.jsxs)("div",{className:"hc-brand",children:[s.jsx("img",{src:"/favicon.png",alt:"Health Copilot",className:"hc-icon"}),(0,s.jsxs)("div",{className:"hc-brand-text",children:[(0,s.jsxs)("div",{className:"hc-title",children:["HEALTH COPILOT",s.jsx("span",{className:"hc-reg",children:"\xae"})]}),s.jsx("div",{className:"hc-subtitle",children:"UTI Pedi\xe1trica"})]})]}),(0,s.jsxs)("div",{className:"hc-actions",children:[(0,s.jsxs)("button",{className:"hc-icon-btn",type:"button","aria-label":"Hist\xf3rico",children:[s.jsx("span",{children:"⏱"}),s.jsx("span",{className:"hc-icon-btn-label",children:"Hist\xf3rico"})]}),s.jsx("span",{className:"hc-badge",children:"PROT\xd3TIPO"})]})]}),s.jsx(S,{children:s.jsx("section",{className:"content",children:(0,s.jsxs)("div",{className:"chat-container",children:[0===a.length&&!i&&(0,s.jsxs)("div",{className:"hero",children:[s.jsx("h1",{className:"hero-title",children:"Como posso ajudar a UTI pedi\xe1trica hoje?"}),s.jsx("p",{className:"hero-subtitle",children:"Fa\xe7a uma pergunta sobre risco de mortalidade, prioridade de atendimento, exames laboratoriais, imagens, prescri\xe7\xf5es ou perfil da unidade."}),s.jsx(j,{onPromptClick:function(a){u(a)}})]}),a.length>0&&(0,s.jsxs)("div",{className:"conversation",children:[a.map(a=>s.jsx("div",{className:`msg-container ${"user"===a.role?"msg-user-wrapper":"msg-agent-wrapper"}`,children:(0,s.jsxs)("div",{className:`msg-bubble ${"user"===a.role?"msg-user":"msg-agent"}`,children:[s.jsx("div",{className:"msg-text",style:{whiteSpace:"pre-wrap"},children:a.text}),"agent"===a.role&&a.showIcuPanel&&a.topPatients&&a.topPatients.length>0&&s.jsx(k,{patients:a.topPatients}),"agent"===a.role&&a.focusedPatient&&s.jsx(R,{patient:a.focusedPatient}),"agent"===a.role&&a.showLabPanel&&a.topPatients&&a.topPatients.length>0&&s.jsx(M,{patients:a.topPatients}),"agent"===a.role&&a.showUnitProfilePanel&&s.jsx(q,{})]})},a.id)),i&&s.jsx("div",{className:"msg-container msg-agent-wrapper",children:s.jsx("div",{className:"msg-bubble msg-agent",children:s.jsx(D,{})})}),s.jsx("div",{ref:o})]}),s.jsx(C,{value:n,onChange:r,onSend:u,onKeyDown:function(a){"Enter"!==a.key||a.shiftKey||(a.preventDefault(),u())},loading:i,currentAgent:d,onAgentChange:m})]})})})]})}},3369:(a,e,i)=>{"use strict";i.d(e,{PreviewProvider:()=>n,u:()=>r});var s=i(326),t=i(7577);let l=(0,t.createContext)(void 0);function n({children:a}){let[e,i]=(0,t.useState)(null),[n,r]=(0,t.useState)(null);return s.jsx(l.Provider,{value:{previewType:e,previewPayload:n,setPreview:(a,e)=>{i(a),r(e||null)},clearPreview:()=>{i(null),r(null)}},children:a})}function r(){let a=(0,t.useContext)(l);if(void 0===a)throw Error("usePreview must be used within a PreviewProvider");return a}},6910:(a,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>d,metadata:()=>c});var s=i(9510);i(7272);var t=i(8570);let l=(0,t.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/components/PreviewProvider.tsx`),{__esModule:n,$$typeof:r}=l;l.default;let o=(0,t.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/components/PreviewProvider.tsx#PreviewProvider`);(0,t.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/components/PreviewProvider.tsx#usePreview`);let c={title:"Health Copilot + - UTI Pedi\xe1trica",description:"Interface de apoio \xe0 decis\xe3o para UTI Pedi\xe1trica, com visual limpo e hospitalar.",icons:{icon:"/favicon.png"}};function d({children:a}){return(0,s.jsxs)("html",{lang:"pt-BR",children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"icon",href:"/favicon.png",sizes:"any",type:"image/png"}),s.jsx("link",{rel:"apple-touch-icon",href:"/favicon.png"}),s.jsx("meta",{name:"theme-color",content:"#10b981"})]}),s.jsx("body",{children:s.jsx(o,{children:a})})]})}},908:(a,e,i)=>{"use strict";i.r(e),i.d(e,{$$typeof:()=>n,__esModule:()=>l,default:()=>r});var s=i(8570);let t=(0,s.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/page.tsx`),{__esModule:l,$$typeof:n}=t;t.default;let r=(0,s.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/page.tsx#default`)},7272:()=>{}};var e=require("../webpack-runtime.js");e.C(a);var i=a=>e(e.s=a),s=e.X(0,[948,471],()=>i(890));module.exports=s})();