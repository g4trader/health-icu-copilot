(()=>{var n={};n.id=931,n.ids=[931],n.modules={7849:n=>{"use strict";n.exports=require("next/dist/client/components/action-async-storage.external")},2934:n=>{"use strict";n.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:n=>{"use strict";n.exports=require("next/dist/client/components/request-async-storage.external")},4580:n=>{"use strict";n.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:n=>{"use strict";n.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:n=>{"use strict";n.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:n=>{"use strict";n.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},890:(n,m,a)=>{"use strict";a.r(m),a.d(m,{GlobalError:()=>i.a,__next_app__:()=>c,originalPathname:()=>r,pages:()=>l,routeModule:()=>p,tree:()=>o}),a(908),a(8090),a(5866);var e=a(3191),b=a(8716),t=a(7922),i=a.n(t),x=a(5231),s={};for(let n in x)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(n)&&(s[n]=()=>x[n]);a.d(m,s);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,908)),"/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,8090)),"/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/page.tsx"],r="/page",c={require:a,loadChunk:()=>Promise.resolve()},p=new e.AppPageRouteModule({definition:{kind:b.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1119:(n,m,a)=>{Promise.resolve().then(a.bind(a,3369)),Promise.resolve().then(a.bind(a,3393))},9130:(n,m,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},5303:()=>{},3369:(n,m,a)=>{"use strict";a.d(m,{PreviewProvider:()=>i});var e=a(326),b=a(7577);let t=(0,b.createContext)(void 0);function i({children:n}){let[m,a]=(0,b.useState)(null),[i,x]=(0,b.useState)(null),[s,o]=(0,b.useState)(void 0);return e.jsx(t.Provider,{value:{previewType:m,previewPayload:i,setPreview:(n,m)=>{a(n),x(m||null)},clearPreview:()=>{a(null),x(null)},onSelectPatient:s,setOnSelectPatient:o},children:n})}},3393:(n,m,a)=>{"use strict";a.d(m,{ClinicalSessionProvider:()=>i});var e=a(326),b=a(7577);let t=(0,b.createContext)(void 0);function i({children:n}){let[m,a]=(0,b.useState)([]),[i,x]=(0,b.useState)(void 0);return e.jsx(t.Provider,{value:{pinnedPatients:m,togglePinnedPatient:n=>{a(m=>m.some(m=>m.id===n.id)?m.filter(m=>m.id!==n.id):m.length>=6?[...m.slice(1),n]:[...m,n])},activePatientId:i,setActivePatient:n=>{x(n)}},children:n})}},8090:(n,m,a)=>{"use strict";a.r(m),a.d(m,{default:()=>d,metadata:()=>p});var e=a(9510);a(7272);var b=a(8570);let t=(0,b.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/components/PreviewProvider.tsx`),{__esModule:i,$$typeof:x}=t;t.default;let s=(0,b.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/components/PreviewProvider.tsx#PreviewProvider`);(0,b.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/components/PreviewProvider.tsx#usePreview`);let o=(0,b.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/lib/ClinicalSessionContext.tsx`),{__esModule:l,$$typeof:r}=o;o.default;let c=(0,b.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/lib/ClinicalSessionContext.tsx#ClinicalSessionProvider`);(0,b.createProxy)(String.raw`/Users/lucianoterres/Documents/GitHub/health-icu-copilot/lib/ClinicalSessionContext.tsx#useClinicalSession`);let p={title:"Health Copilot + - UTI Pedi\xe1trica",description:"Interface de apoio \xe0 decis\xe3o para UTI Pedi\xe1trica, com visual limpo e hospitalar.",icons:{icon:"/favicon.png"}};function d({children:n}){return(0,e.jsxs)("html",{lang:"pt-BR",children:[(0,e.jsxs)("head",{children:[e.jsx("link",{rel:"icon",href:"/favicon.png",sizes:"any",type:"image/png"}),e.jsx("link",{rel:"apple-touch-icon",href:"/favicon.png"}),e.jsx("meta",{name:"theme-color",content:"#10b981"})]}),e.jsx("body",{children:e.jsx(c,{children:e.jsx(s,{children:n})})})]})}},908:()=>{throw Error('Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[31mx\x1b[0m the name `LabPanel` is defined multiple times\n     ,-[\x1b[36;1;4m/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/page.tsx\x1b[0m:11:1]\n \x1b[2m 11\x1b[0m | import { MiniPatientSummary } from "@/components/MiniPatientSummary";\n \x1b[2m 12\x1b[0m | import { VitalsPanel } from "@/components/VitalsPanel";\n \x1b[2m 13\x1b[0m | import { TherapiesPanel } from "@/components/TherapiesPanel";\n \x1b[2m 14\x1b[0m | import { LabPanel } from "@/components/LabPanel";\n     : \x1b[31;1m         ^^^^|^^^\x1b[0m\n     :              \x1b[31;1m`-- \x1b[31;1mprevious definition of `LabPanel` here\x1b[0m\x1b[0m\n \x1b[2m 15\x1b[0m | import { UnitProfilePanel } from "@/components/UnitProfilePanel";\n \x1b[2m 16\x1b[0m | import { PatientDetailPanel } from "@/components/PatientDetailPanel";\n \x1b[2m 17\x1b[0m | import { PatientPinButton } from "@/components/PatientPinButton";\n \x1b[2m 18\x1b[0m | import { PatientAgentButton } from "@/components/PatientAgentButton";\n \x1b[2m 19\x1b[0m | import { useClinicalSession } from "@/lib/ClinicalSessionContext";\n \x1b[2m 20\x1b[0m | \n \x1b[2m 21\x1b[0m | type Message = {\n \x1b[2m 22\x1b[0m |   id: string;\n \x1b[2m 23\x1b[0m |   role: "user" | "agent";\n \x1b[2m 24\x1b[0m |   text: string;\n \x1b[2m 25\x1b[0m |   intent?: "PRIORITIZACAO" | "PACIENTE_ESPECIFICO" | "SINAIS_VITAIS" | "BALANCO_HIDRICO" | "PERFIL_UNIDADE" | "CALCULO_CLINICO" | "AGENTE_PARECER" | "FALLBACK";\n \x1b[2m 26\x1b[0m |   topPatients?: Patient[];\n \x1b[2m 27\x1b[0m |   focusedPatient?: Patient;\n \x1b[2m 28\x1b[0m |   showIcuPanel?: boolean;\n \x1b[2m 29\x1b[0m |   showLabPanel?: boolean;\n \x1b[2m 30\x1b[0m |   showUnitProfilePanel?: boolean;\n \x1b[2m 31\x1b[0m |   type?: \'patient-overview\';\n \x1b[2m 32\x1b[0m |   patientId?: string;\n \x1b[2m 33\x1b[0m |   showPatientMiniPanel?: boolean;\n \x1b[2m 34\x1b[0m |   showVitalsPanel?: boolean;\n \x1b[2m 35\x1b[0m |   showLabsPanel?: boolean;\n \x1b[2m 36\x1b[0m |   showTherapiesPanel?: boolean;\n \x1b[2m 37\x1b[0m |   agentId?: ClinicalAgentId;\n \x1b[2m 38\x1b[0m | };\n \x1b[2m 39\x1b[0m | \n \x1b[2m 40\x1b[0m | type AgentReply = {\n \x1b[2m 41\x1b[0m |   reply: string;\n \x1b[2m 42\x1b[0m |   showIcuPanel?: boolean;\n \x1b[2m 43\x1b[0m |   topN?: number;\n \x1b[2m 44\x1b[0m |   topPatients?: Patient[];\n \x1b[2m 45\x1b[0m |   focusedPatient?: Patient;\n \x1b[2m 46\x1b[0m |   showLabPanel?: boolean;\n \x1b[2m 47\x1b[0m |   showUnitProfilePanel?: boolean;\n \x1b[2m 48\x1b[0m |   intent?: string;\n \x1b[2m 49\x1b[0m |   agent?: ClinicalAgentType;\n \x1b[2m 50\x1b[0m |   agentName?: string;\n \x1b[2m 51\x1b[0m |   agentId?: ClinicalAgentId;\n \x1b[2m 52\x1b[0m |   selectedPatientId?: string;\n \x1b[2m 53\x1b[0m |   showPatientOverview?: boolean;\n \x1b[2m 54\x1b[0m |   showVitalsPanel?: boolean;\n \x1b[2m 55\x1b[0m |   showLabsPanel?: boolean;\n \x1b[2m 56\x1b[0m |   showTherapiesPanel?: boolean;\n \x1b[2m 57\x1b[0m | };\n \x1b[2m 58\x1b[0m | \n \x1b[2m 59\x1b[0m | function LoadingSkeleton() {\n \x1b[2m 60\x1b[0m |   const steps = [\n \x1b[2m 61\x1b[0m |     "Acessando prontu\xe1rios eletr\xf4nicos…",\n \x1b[2m 62\x1b[0m |     "Buscando exames laboratoriais recentes…",\n \x1b[2m 63\x1b[0m |     "Analisando exames de imagem…",\n \x1b[2m 64\x1b[0m |     "Revisando prescri\xe7\xf5es e doses calculadas…"\n \x1b[2m 65\x1b[0m |   ];\n \x1b[2m 66\x1b[0m | \n \x1b[2m 67\x1b[0m |   return (\n \x1b[2m 68\x1b[0m |     <div className="loading-skeleton">\n \x1b[2m 69\x1b[0m |       {steps.map((step, idx) => (\n \x1b[2m 70\x1b[0m |         <div key={idx} className="loading-step">\n \x1b[2m 71\x1b[0m |           <div className="loading-dot"></div>\n \x1b[2m 72\x1b[0m |           <span>{step}</span>\n \x1b[2m 73\x1b[0m |         </div>\n \x1b[2m 74\x1b[0m |       ))}\n \x1b[2m 75\x1b[0m |     </div>\n \x1b[2m 76\x1b[0m |   );\n \x1b[2m 77\x1b[0m | }\n \x1b[2m 78\x1b[0m | \n \x1b[2m 79\x1b[0m | function PrioritizationPanel({ \n \x1b[2m 80\x1b[0m |   patients, \n \x1b[2m 81\x1b[0m |   onSelectPatient,\n \x1b[2m 82\x1b[0m |   onRequestOpinion \n \x1b[2m 83\x1b[0m | }: { \n \x1b[2m 84\x1b[0m |   patients: Patient[]; \n \x1b[2m 85\x1b[0m |   onSelectPatient?: (patientId: string) => void;\n \x1b[2m 86\x1b[0m |   onRequestOpinion?: (patientId: string, agentId: ClinicalAgentId) => void;\n \x1b[2m 87\x1b[0m | }) {\n \x1b[2m 88\x1b[0m |   return (\n \x1b[2m 89\x1b[0m |     <div className="prioritization-panel">\n \x1b[2m 90\x1b[0m |       <div className="panel-header">\n \x1b[2m 91\x1b[0m |         <h3 className="panel-title">TOP {patients.length} Pacientes por Prioridade</h3>\n \x1b[2m 92\x1b[0m |       </div>\n \x1b[2m 93\x1b[0m |       <div className="prioritization-list">\n \x1b[2m 94\x1b[0m |         {patients.map((p, idx) => {\n \x1b[2m 95\x1b[0m |           const riskLevel = riskLevelFromScore(p.riscoMortality24h);\n \x1b[2m 96\x1b[0m |           const lactato = p.labResults.find(l => l.tipo === "lactato");\n \x1b[2m 97\x1b[0m |           const lactatoValue = lactato && typeof lactato.valor === "number" ? lactato.valor : 0;\n \x1b[2m 98\x1b[0m |           \n \x1b[2m 99\x1b[0m |           return (\n \x1b[2m100\x1b[0m |             <button\n \x1b[2m101\x1b[0m |               key={p.id}\n \x1b[2m102\x1b[0m |               type="button"\n \x1b[2m103\x1b[0m |               className="prioritization-card prioritization-card-clickable"\n \x1b[2m104\x1b[0m |               onClick={() => onSelectPatient?.(p.id)}\n \x1b[2m105\x1b[0m |             >\n \x1b[2m106\x1b[0m |               <div className="prioritization-rank">#{idx + 1}</div>\n \x1b[2m107\x1b[0m |               <div className="prioritization-content">\n \x1b[2m108\x1b[0m |                 <div className="prioritization-header">\n \x1b[2m109\x1b[0m |                   <div>\n \x1b[2m110\x1b[0m |                     <div className="prioritization-name">{p.leito} • {p.nome}</div>\n \x1b[2m111\x1b[0m |                     <div className="prioritization-meta">\n \x1b[2m112\x1b[0m |                       {p.idade} {p.idade === 1 ? "ano" : "anos"} • {p.peso?.toFixed(1) || "N/A"} kg\n \x1b[2m113\x1b[0m |                     </div>\n \x1b[2m114\x1b[0m |                   </div>\n \x1b[2m115\x1b[0m |                   <div style={{ display: "flex", alignItems: "center", gap: "0.5rem" }}>\n \x1b[2m116\x1b[0m |                     <PatientPinButton patient={p} />\n \x1b[2m117\x1b[0m |                     {onRequestOpinion && (\n \x1b[2m118\x1b[0m |                       <PatientAgentButton \n \x1b[2m119\x1b[0m |                         patientId={p.id} \n \x1b[2m120\x1b[0m |                         onRequestOpinion={onRequestOpinion}\n \x1b[2m121\x1b[0m |                       />\n \x1b[2m122\x1b[0m |                     )}\n \x1b[2m123\x1b[0m |                     <span className={`risk-pill ${riskLevel === "alto" ? "risk-high" : riskLevel === "moderado" ? "risk-medium" : "risk-low"}`}>\n \x1b[2m124\x1b[0m |                       Risco {(p.riscoMortality24h * 100).toFixed(0)}%\n \x1b[2m125\x1b[0m |                     </span>\n \x1b[2m126\x1b[0m |                   </div>\n \x1b[2m127\x1b[0m |                 </div>\n \x1b[2m128\x1b[0m |                 <div className="prioritization-diagnosis">{p.diagnosticoPrincipal}</div>\n \x1b[2m129\x1b[0m |                 <div className="prioritization-vitals">\n \x1b[2m130\x1b[0m |                   <div className="vital-item">\n \x1b[2m131\x1b[0m |                     <span className="vital-label">MAP:</span>\n \x1b[2m132\x1b[0m |                     <span className={p.vitalSigns.pressaoArterialMedia < 65 ? "vital-critical" : ""}>\n \x1b[2m133\x1b[0m |                       {p.vitalSigns.pressaoArterialMedia} mmHg\n \x1b[2m134\x1b[0m |                     </span>\n \x1b[2m135\x1b[0m |                   </div>\n \x1b[2m136\x1b[0m |                   <div className="vital-item">\n \x1b[2m137\x1b[0m |                     <span className="vital-label">FC:</span>\n \x1b[2m138\x1b[0m |                     <span>{p.vitalSigns.frequenciaCardiaca} bpm</span>\n \x1b[2m139\x1b[0m |                   </div>\n \x1b[2m140\x1b[0m |                   <div className="vital-item">\n \x1b[2m141\x1b[0m |                     <span className="vital-label">SpO2:</span>\n \x1b[2m142\x1b[0m |                     <span className={p.vitalSigns.saturacaoO2 < 92 ? "vital-critical" : ""}>\n \x1b[2m143\x1b[0m |                       {p.vitalSigns.saturacaoO2}%\n \x1b[2m144\x1b[0m |                     </span>\n \x1b[2m145\x1b[0m |                   </div>\n \x1b[2m146\x1b[0m |                   {lactatoValue > 0 && (\n \x1b[2m147\x1b[0m |                     <div className="vital-item">\n \x1b[2m148\x1b[0m |                       <span className="vital-label">Lactato:</span>\n \x1b[2m149\x1b[0m |                       <span className={lactatoValue >= 3 ? "vital-critical" : ""}>\n \x1b[2m150\x1b[0m |                         {lactatoValue.toFixed(1)} mmol/L\n \x1b[2m151\x1b[0m |                       </span>\n \x1b[2m152\x1b[0m |                     </div>\n \x1b[2m153\x1b[0m |                   )}\n \x1b[2m154\x1b[0m |                 </div>\n \x1b[2m155\x1b[0m |                 <div className="prioritization-support">\n \x1b[2m156\x1b[0m |                   {p.medications.some(m => m.tipo === "vasopressor" && m.ativo) && (\n \x1b[2m157\x1b[0m |                     <span className="support-badge vasopressor">Vasopressor</span>\n \x1b[2m158\x1b[0m |                   )}\n \x1b[2m159\x1b[0m |                   {p.ventilationParams && (\n \x1b[2m160\x1b[0m |                     <span className="support-badge ventilation">VM</span>\n \x1b[2m161\x1b[0m |                   )}\n \x1b[2m162\x1b[0m |                 </div>\n \x1b[2m163\x1b[0m |               </div>\n \x1b[2m164\x1b[0m |             </button>\n \x1b[2m165\x1b[0m |           );\n \x1b[2m166\x1b[0m |         })}\n \x1b[2m167\x1b[0m |       </div>\n \x1b[2m168\x1b[0m |     </div>\n \x1b[2m169\x1b[0m |   );\n \x1b[2m170\x1b[0m | }\n \x1b[2m171\x1b[0m | \n \x1b[2m172\x1b[0m | function LabPanel({ patients }: { patients: Patient[] }) {\n     : \x1b[33;1m         ^^^^|^^^\x1b[0m\n     :              \x1b[33;1m`-- \x1b[33;1m`LabPanel` redefined here\x1b[0m\x1b[0m\n \x1b[2m173\x1b[0m |   // Criar hist\xf3rico mock de exames (\xfaltimos 2-3 valores por paciente)\n \x1b[2m174\x1b[0m |   const getLabHistory = (patient: Patient) => {\n \x1b[2m175\x1b[0m |     const lactato = patient.labResults.find(l => l.tipo === "lactato");\n     `----\n\n  \x1b[31mx\x1b[0m the name `UnitProfilePanel` is defined multiple times\n     ,-[\x1b[36;1;4m/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/page.tsx\x1b[0m:12:1]\n \x1b[2m 12\x1b[0m | import { VitalsPanel } from "@/components/VitalsPanel";\n \x1b[2m 13\x1b[0m | import { TherapiesPanel } from "@/components/TherapiesPanel";\n \x1b[2m 14\x1b[0m | import { LabPanel } from "@/components/LabPanel";\n \x1b[2m 15\x1b[0m | import { UnitProfilePanel } from "@/components/UnitProfilePanel";\n     : \x1b[31;1m         ^^^^^^^^|^^^^^^^\x1b[0m\n     :                  \x1b[31;1m`-- \x1b[31;1mprevious definition of `UnitProfilePanel` here\x1b[0m\x1b[0m\n \x1b[2m 16\x1b[0m | import { PatientDetailPanel } from "@/components/PatientDetailPanel";\n \x1b[2m 17\x1b[0m | import { PatientPinButton } from "@/components/PatientPinButton";\n \x1b[2m 18\x1b[0m | import { PatientAgentButton } from "@/components/PatientAgentButton";\n \x1b[2m 19\x1b[0m | import { useClinicalSession } from "@/lib/ClinicalSessionContext";\n \x1b[2m 20\x1b[0m | \n \x1b[2m 21\x1b[0m | type Message = {\n \x1b[2m 22\x1b[0m |   id: string;\n \x1b[2m 23\x1b[0m |   role: "user" | "agent";\n \x1b[2m 24\x1b[0m |   text: string;\n \x1b[2m 25\x1b[0m |   intent?: "PRIORITIZACAO" | "PACIENTE_ESPECIFICO" | "SINAIS_VITAIS" | "BALANCO_HIDRICO" | "PERFIL_UNIDADE" | "CALCULO_CLINICO" | "AGENTE_PARECER" | "FALLBACK";\n \x1b[2m 26\x1b[0m |   topPatients?: Patient[];\n \x1b[2m 27\x1b[0m |   focusedPatient?: Patient;\n \x1b[2m 28\x1b[0m |   showIcuPanel?: boolean;\n \x1b[2m 29\x1b[0m |   showLabPanel?: boolean;\n \x1b[2m 30\x1b[0m |   showUnitProfilePanel?: boolean;\n \x1b[2m 31\x1b[0m |   type?: \'patient-overview\';\n \x1b[2m 32\x1b[0m |   patientId?: string;\n \x1b[2m 33\x1b[0m |   showPatientMiniPanel?: boolean;\n \x1b[2m 34\x1b[0m |   showVitalsPanel?: boolean;\n \x1b[2m 35\x1b[0m |   showLabsPanel?: boolean;\n \x1b[2m 36\x1b[0m |   showTherapiesPanel?: boolean;\n \x1b[2m 37\x1b[0m |   agentId?: ClinicalAgentId;\n \x1b[2m 38\x1b[0m | };\n \x1b[2m 39\x1b[0m | \n \x1b[2m 40\x1b[0m | type AgentReply = {\n \x1b[2m 41\x1b[0m |   reply: string;\n \x1b[2m 42\x1b[0m |   showIcuPanel?: boolean;\n \x1b[2m 43\x1b[0m |   topN?: number;\n \x1b[2m 44\x1b[0m |   topPatients?: Patient[];\n \x1b[2m 45\x1b[0m |   focusedPatient?: Patient;\n \x1b[2m 46\x1b[0m |   showLabPanel?: boolean;\n \x1b[2m 47\x1b[0m |   showUnitProfilePanel?: boolean;\n \x1b[2m 48\x1b[0m |   intent?: string;\n \x1b[2m 49\x1b[0m |   agent?: ClinicalAgentType;\n \x1b[2m 50\x1b[0m |   agentName?: string;\n \x1b[2m 51\x1b[0m |   agentId?: ClinicalAgentId;\n \x1b[2m 52\x1b[0m |   selectedPatientId?: string;\n \x1b[2m 53\x1b[0m |   showPatientOverview?: boolean;\n \x1b[2m 54\x1b[0m |   showVitalsPanel?: boolean;\n \x1b[2m 55\x1b[0m |   showLabsPanel?: boolean;\n \x1b[2m 56\x1b[0m |   showTherapiesPanel?: boolean;\n \x1b[2m 57\x1b[0m | };\n \x1b[2m 58\x1b[0m | \n \x1b[2m 59\x1b[0m | function LoadingSkeleton() {\n \x1b[2m 60\x1b[0m |   const steps = [\n \x1b[2m 61\x1b[0m |     "Acessando prontu\xe1rios eletr\xf4nicos…",\n \x1b[2m 62\x1b[0m |     "Buscando exames laboratoriais recentes…",\n \x1b[2m 63\x1b[0m |     "Analisando exames de imagem…",\n \x1b[2m 64\x1b[0m |     "Revisando prescri\xe7\xf5es e doses calculadas…"\n \x1b[2m 65\x1b[0m |   ];\n \x1b[2m 66\x1b[0m | \n \x1b[2m 67\x1b[0m |   return (\n \x1b[2m 68\x1b[0m |     <div className="loading-skeleton">\n \x1b[2m 69\x1b[0m |       {steps.map((step, idx) => (\n \x1b[2m 70\x1b[0m |         <div key={idx} className="loading-step">\n \x1b[2m 71\x1b[0m |           <div className="loading-dot"></div>\n \x1b[2m 72\x1b[0m |           <span>{step}</span>\n \x1b[2m 73\x1b[0m |         </div>\n \x1b[2m 74\x1b[0m |       ))}\n \x1b[2m 75\x1b[0m |     </div>\n \x1b[2m 76\x1b[0m |   );\n \x1b[2m 77\x1b[0m | }\n \x1b[2m 78\x1b[0m | \n \x1b[2m 79\x1b[0m | function PrioritizationPanel({ \n \x1b[2m 80\x1b[0m |   patients, \n \x1b[2m 81\x1b[0m |   onSelectPatient,\n \x1b[2m 82\x1b[0m |   onRequestOpinion \n \x1b[2m 83\x1b[0m | }: { \n \x1b[2m 84\x1b[0m |   patients: Patient[]; \n \x1b[2m 85\x1b[0m |   onSelectPatient?: (patientId: string) => void;\n \x1b[2m 86\x1b[0m |   onRequestOpinion?: (patientId: string, agentId: ClinicalAgentId) => void;\n \x1b[2m 87\x1b[0m | }) {\n \x1b[2m 88\x1b[0m |   return (\n \x1b[2m 89\x1b[0m |     <div className="prioritization-panel">\n \x1b[2m 90\x1b[0m |       <div className="panel-header">\n \x1b[2m 91\x1b[0m |         <h3 className="panel-title">TOP {patients.length} Pacientes por Prioridade</h3>\n \x1b[2m 92\x1b[0m |       </div>\n \x1b[2m 93\x1b[0m |       <div className="prioritization-list">\n \x1b[2m 94\x1b[0m |         {patients.map((p, idx) => {\n \x1b[2m 95\x1b[0m |           const riskLevel = riskLevelFromScore(p.riscoMortality24h);\n \x1b[2m 96\x1b[0m |           const lactato = p.labResults.find(l => l.tipo === "lactato");\n \x1b[2m 97\x1b[0m |           const lactatoValue = lactato && typeof lactato.valor === "number" ? lactato.valor : 0;\n \x1b[2m 98\x1b[0m |           \n \x1b[2m 99\x1b[0m |           return (\n \x1b[2m100\x1b[0m |             <button\n \x1b[2m101\x1b[0m |               key={p.id}\n \x1b[2m102\x1b[0m |               type="button"\n \x1b[2m103\x1b[0m |               className="prioritization-card prioritization-card-clickable"\n \x1b[2m104\x1b[0m |               onClick={() => onSelectPatient?.(p.id)}\n \x1b[2m105\x1b[0m |             >\n \x1b[2m106\x1b[0m |               <div className="prioritization-rank">#{idx + 1}</div>\n \x1b[2m107\x1b[0m |               <div className="prioritization-content">\n \x1b[2m108\x1b[0m |                 <div className="prioritization-header">\n \x1b[2m109\x1b[0m |                   <div>\n \x1b[2m110\x1b[0m |                     <div className="prioritization-name">{p.leito} • {p.nome}</div>\n \x1b[2m111\x1b[0m |                     <div className="prioritization-meta">\n \x1b[2m112\x1b[0m |                       {p.idade} {p.idade === 1 ? "ano" : "anos"} • {p.peso?.toFixed(1) || "N/A"} kg\n \x1b[2m113\x1b[0m |                     </div>\n \x1b[2m114\x1b[0m |                   </div>\n \x1b[2m115\x1b[0m |                   <div style={{ display: "flex", alignItems: "center", gap: "0.5rem" }}>\n \x1b[2m116\x1b[0m |                     <PatientPinButton patient={p} />\n \x1b[2m117\x1b[0m |                     {onRequestOpinion && (\n \x1b[2m118\x1b[0m |                       <PatientAgentButton \n \x1b[2m119\x1b[0m |                         patientId={p.id} \n \x1b[2m120\x1b[0m |                         onRequestOpinion={onRequestOpinion}\n \x1b[2m121\x1b[0m |                       />\n \x1b[2m122\x1b[0m |                     )}\n \x1b[2m123\x1b[0m |                     <span className={`risk-pill ${riskLevel === "alto" ? "risk-high" : riskLevel === "moderado" ? "risk-medium" : "risk-low"}`}>\n \x1b[2m124\x1b[0m |                       Risco {(p.riscoMortality24h * 100).toFixed(0)}%\n \x1b[2m125\x1b[0m |                     </span>\n \x1b[2m126\x1b[0m |                   </div>\n \x1b[2m127\x1b[0m |                 </div>\n \x1b[2m128\x1b[0m |                 <div className="prioritization-diagnosis">{p.diagnosticoPrincipal}</div>\n \x1b[2m129\x1b[0m |                 <div className="prioritization-vitals">\n \x1b[2m130\x1b[0m |                   <div className="vital-item">\n \x1b[2m131\x1b[0m |                     <span className="vital-label">MAP:</span>\n \x1b[2m132\x1b[0m |                     <span className={p.vitalSigns.pressaoArterialMedia < 65 ? "vital-critical" : ""}>\n \x1b[2m133\x1b[0m |                       {p.vitalSigns.pressaoArterialMedia} mmHg\n \x1b[2m134\x1b[0m |                     </span>\n \x1b[2m135\x1b[0m |                   </div>\n \x1b[2m136\x1b[0m |                   <div className="vital-item">\n \x1b[2m137\x1b[0m |                     <span className="vital-label">FC:</span>\n \x1b[2m138\x1b[0m |                     <span>{p.vitalSigns.frequenciaCardiaca} bpm</span>\n \x1b[2m139\x1b[0m |                   </div>\n \x1b[2m140\x1b[0m |                   <div className="vital-item">\n \x1b[2m141\x1b[0m |                     <span className="vital-label">SpO2:</span>\n \x1b[2m142\x1b[0m |                     <span className={p.vitalSigns.saturacaoO2 < 92 ? "vital-critical" : ""}>\n \x1b[2m143\x1b[0m |                       {p.vitalSigns.saturacaoO2}%\n \x1b[2m144\x1b[0m |                     </span>\n \x1b[2m145\x1b[0m |                   </div>\n \x1b[2m146\x1b[0m |                   {lactatoValue > 0 && (\n \x1b[2m147\x1b[0m |                     <div className="vital-item">\n \x1b[2m148\x1b[0m |                       <span className="vital-label">Lactato:</span>\n \x1b[2m149\x1b[0m |                       <span className={lactatoValue >= 3 ? "vital-critical" : ""}>\n \x1b[2m150\x1b[0m |                         {lactatoValue.toFixed(1)} mmol/L\n \x1b[2m151\x1b[0m |                       </span>\n \x1b[2m152\x1b[0m |                     </div>\n \x1b[2m153\x1b[0m |                   )}\n \x1b[2m154\x1b[0m |                 </div>\n \x1b[2m155\x1b[0m |                 <div className="prioritization-support">\n \x1b[2m156\x1b[0m |                   {p.medications.some(m => m.tipo === "vasopressor" && m.ativo) && (\n \x1b[2m157\x1b[0m |                     <span className="support-badge vasopressor">Vasopressor</span>\n \x1b[2m158\x1b[0m |                   )}\n \x1b[2m159\x1b[0m |                   {p.ventilationParams && (\n \x1b[2m160\x1b[0m |                     <span className="support-badge ventilation">VM</span>\n \x1b[2m161\x1b[0m |                   )}\n \x1b[2m162\x1b[0m |                 </div>\n \x1b[2m163\x1b[0m |               </div>\n \x1b[2m164\x1b[0m |             </button>\n \x1b[2m165\x1b[0m |           );\n \x1b[2m166\x1b[0m |         })}\n \x1b[2m167\x1b[0m |       </div>\n \x1b[2m168\x1b[0m |     </div>\n \x1b[2m169\x1b[0m |   );\n \x1b[2m170\x1b[0m | }\n \x1b[2m171\x1b[0m | \n \x1b[2m172\x1b[0m | function LabPanel({ patients }: { patients: Patient[] }) {\n \x1b[2m173\x1b[0m |   // Criar hist\xf3rico mock de exames (\xfaltimos 2-3 valores por paciente)\n \x1b[2m174\x1b[0m |   const getLabHistory = (patient: Patient) => {\n \x1b[2m175\x1b[0m |     const lactato = patient.labResults.find(l => l.tipo === "lactato");\n \x1b[2m176\x1b[0m |     const pcr = patient.labResults.find(l => l.tipo === "pcr");\n \x1b[2m177\x1b[0m |     \n \x1b[2m178\x1b[0m |     // Mock de hist\xf3rico: valores anteriores simulados\n \x1b[2m179\x1b[0m |     const lactatoHistory = lactato ? [\n \x1b[2m180\x1b[0m |       { value: typeof lactato.valor === "number" ? (lactato.valor * 0.85).toFixed(1) : "N/A", date: "24h atr\xe1s" },\n \x1b[2m181\x1b[0m |       { value: typeof lactato.valor === "number" ? lactato.valor.toFixed(1) : "N/A", date: "Atual", current: true }\n \x1b[2m182\x1b[0m |     ] : [];\n \x1b[2m183\x1b[0m |     \n \x1b[2m184\x1b[0m |     const pcrHistory = pcr ? [\n \x1b[2m185\x1b[0m |       { value: typeof pcr.valor === "number" ? (pcr.valor * 0.9).toFixed(0) : "N/A", date: "24h atr\xe1s" },\n \x1b[2m186\x1b[0m |       { value: typeof pcr.valor === "number" ? pcr.valor.toFixed(0) : "N/A", date: "Atual", current: true }\n \x1b[2m187\x1b[0m |     ] : [];\n \x1b[2m188\x1b[0m | \n \x1b[2m189\x1b[0m |     return { lactato: lactatoHistory, pcr: pcrHistory, lactatoTrend: lactato?.tendencia };\n \x1b[2m190\x1b[0m |   };\n \x1b[2m191\x1b[0m | \n \x1b[2m192\x1b[0m |   const top3 = patients.slice(0, 3);\n \x1b[2m193\x1b[0m | \n \x1b[2m194\x1b[0m |   return (\n \x1b[2m195\x1b[0m |     <div className="lab-panel">\n \x1b[2m196\x1b[0m |       <div className="panel-header">\n \x1b[2m197\x1b[0m |         <h3 className="panel-title">Exames Laboratoriais com Tend\xeancia</h3>\n \x1b[2m198\x1b[0m |       </div>\n \x1b[2m199\x1b[0m |       <div className="lab-panel-content">\n \x1b[2m200\x1b[0m |         {top3.map(patient => {\n \x1b[2m201\x1b[0m |           const history = getLabHistory(patient);\n \x1b[2m202\x1b[0m |           const lactato = patient.labResults.find(l => l.tipo === "lactato");\n \x1b[2m203\x1b[0m |           const lactatoValue = lactato && typeof lactato.valor === "number" ? lactato.valor : null;\n \x1b[2m204\x1b[0m |           const pcr = patient.labResults.find(l => l.tipo === "pcr");\n \x1b[2m205\x1b[0m |           const pcrValue = pcr && typeof pcr.valor === "number" ? pcr.valor : null;\n \x1b[2m206\x1b[0m | \n \x1b[2m207\x1b[0m |           return (\n \x1b[2m208\x1b[0m |             <div key={patient.id} className="lab-patient-card">\n \x1b[2m209\x1b[0m |               <div className="lab-patient-header">\n \x1b[2m210\x1b[0m |                 <div className="lab-patient-name">{patient.leito} • {patient.nome}</div>\n \x1b[2m211\x1b[0m |                 <div className="lab-patient-meta">{patient.idade} {patient.idade === 1 ? "ano" : "anos"} • {patient.peso?.toFixed(1) || "N/A"} kg</div>\n \x1b[2m212\x1b[0m |               </div>\n \x1b[2m213\x1b[0m |               \n \x1b[2m214\x1b[0m |               {lactatoValue !== null && (\n \x1b[2m215\x1b[0m |                 <div className="lab-item">\n \x1b[2m216\x1b[0m |                   <div className="lab-item-header">\n \x1b[2m217\x1b[0m |                     <span className="lab-item-name">Lactato</span>\n \x1b[2m218\x1b[0m |                     <span className={`lab-trend ${history.lactatoTrend === "subindo" ? "trend-up" : history.lactatoTrend === "caindo" ? "trend-down" : "trend-stable"}`}>\n \x1b[2m219\x1b[0m |                       {history.lactatoTrend === "subindo" ? "↑" : history.lactatoTrend === "caindo" ? "↓" : "="}\n \x1b[2m220\x1b[0m |                     </span>\n \x1b[2m221\x1b[0m |                   </div>\n \x1b[2m222\x1b[0m |                   <div className="lab-values">\n \x1b[2m223\x1b[0m |                     {history.lactato.map((h, idx) => (\n \x1b[2m224\x1b[0m |                       <div key={idx} className={`lab-value ${h.current ? "lab-current" : ""}`}>\n \x1b[2m225\x1b[0m |                         <span className="lab-value-number">{h.value} mmol/L</span>\n \x1b[2m226\x1b[0m |                         <span className="lab-value-date">{h.date}</span>\n \x1b[2m227\x1b[0m |                       </div>\n \x1b[2m228\x1b[0m |                     ))}\n \x1b[2m229\x1b[0m |                   </div>\n \x1b[2m230\x1b[0m |                 </div>\n \x1b[2m231\x1b[0m |               )}\n \x1b[2m232\x1b[0m | \n \x1b[2m233\x1b[0m |               {pcrValue !== null && (\n \x1b[2m234\x1b[0m |                 <div className="lab-item">\n \x1b[2m235\x1b[0m |                   <div className="lab-item-header">\n \x1b[2m236\x1b[0m |                     <span className="lab-item-name">PCR</span>\n \x1b[2m237\x1b[0m |                     <span className="lab-trend trend-stable">=</span>\n \x1b[2m238\x1b[0m |                   </div>\n \x1b[2m239\x1b[0m |                   <div className="lab-values">\n \x1b[2m240\x1b[0m |                     {history.pcr.map((h, idx) => (\n \x1b[2m241\x1b[0m |                       <div key={idx} className={`lab-value ${h.current ? "lab-current" : ""}`}>\n \x1b[2m242\x1b[0m |                         <span className="lab-value-number">{h.value} mg/L</span>\n \x1b[2m243\x1b[0m |                         <span className="lab-value-date">{h.date}</span>\n \x1b[2m244\x1b[0m |                       </div>\n \x1b[2m245\x1b[0m |                     ))}\n \x1b[2m246\x1b[0m |                   </div>\n \x1b[2m247\x1b[0m |                 </div>\n \x1b[2m248\x1b[0m |               )}\n \x1b[2m249\x1b[0m | \n \x1b[2m250\x1b[0m |               {lactatoValue === null && pcrValue === null && (\n \x1b[2m251\x1b[0m |                 <div className="lab-no-data">Sem exames laboratoriais recentes</div>\n \x1b[2m252\x1b[0m |               )}\n \x1b[2m253\x1b[0m |             </div>\n \x1b[2m254\x1b[0m |           );\n \x1b[2m255\x1b[0m |         })}\n \x1b[2m256\x1b[0m |       </div>\n \x1b[2m257\x1b[0m |     </div>\n \x1b[2m258\x1b[0m |   );\n \x1b[2m259\x1b[0m | }\n \x1b[2m260\x1b[0m | \n \x1b[2m261\x1b[0m | function UnitProfilePanel() {\n     : \x1b[33;1m         ^^^^^^^^|^^^^^^^\x1b[0m\n     :                  \x1b[33;1m`-- \x1b[33;1m`UnitProfilePanel` redefined here\x1b[0m\x1b[0m\n \x1b[2m262\x1b[0m |   const total = mockUnitProfile.totalPacientes;\n \x1b[2m263\x1b[0m |   const percentages = {\n \x1b[2m264\x1b[0m |     respiratorios: ((mockUnitProfile.casuistica.respiratorios / total) * 100).toFixed(0),\n     `----\n\n  \x1b[31mx\x1b[0m the name `PatientDetailPanel` is defined multiple times\n     ,-[\x1b[36;1;4m/Users/lucianoterres/Documents/GitHub/health-icu-copilot/app/page.tsx\x1b[0m:13:1]\n \x1b[2m 13\x1b[0m | import { TherapiesPanel } from "@/components/TherapiesPanel";\n \x1b[2m 14\x1b[0m | import { LabPanel } from "@/components/LabPanel";\n \x1b[2m 15\x1b[0m | import { UnitProfilePanel } from "@/components/UnitProfilePanel";\n \x1b[2m 16\x1b[0m | import { PatientDetailPanel } from "@/components/PatientDetailPanel";\n     : \x1b[31;1m         ^^^^^^^^^|^^^^^^^^\x1b[0m\n     :                   \x1b[31;1m`-- \x1b[31;1mprevious definition of `PatientDetailPanel` here\x1b[0m\x1b[0m\n \x1b[2m 17\x1b[0m | import { PatientPinButton } from "@/components/PatientPinButton";\n \x1b[2m 18\x1b[0m | import { PatientAgentButton } from "@/components/PatientAgentButton";\n \x1b[2m 19\x1b[0m | import { useClinicalSession } from "@/lib/ClinicalSessionContext";\n \x1b[2m 20\x1b[0m | \n \x1b[2m 21\x1b[0m | type Message = {\n \x1b[2m 22\x1b[0m |   id: string;\n \x1b[2m 23\x1b[0m |   role: "user" | "agent";\n \x1b[2m 24\x1b[0m |   text: string;\n \x1b[2m 25\x1b[0m |   intent?: "PRIORITIZACAO" | "PACIENTE_ESPECIFICO" | "SINAIS_VITAIS" | "BALANCO_HIDRICO" | "PERFIL_UNIDADE" | "CALCULO_CLINICO" | "AGENTE_PARECER" | "FALLBACK";\n \x1b[2m 26\x1b[0m |   topPatients?: Patient[];\n \x1b[2m 27\x1b[0m |   focusedPatient?: Patient;\n \x1b[2m 28\x1b[0m |   showIcuPanel?: boolean;\n \x1b[2m 29\x1b[0m |   showLabPanel?: boolean;\n \x1b[2m 30\x1b[0m |   showUnitProfilePanel?: boolean;\n \x1b[2m 31\x1b[0m |   type?: \'patient-overview\';\n \x1b[2m 32\x1b[0m |   patientId?: string;\n \x1b[2m 33\x1b[0m |   showPatientMiniPanel?: boolean;\n \x1b[2m 34\x1b[0m |   showVitalsPanel?: boolean;\n \x1b[2m 35\x1b[0m |   showLabsPanel?: boolean;\n \x1b[2m 36\x1b[0m |   showTherapiesPanel?: boolean;\n \x1b[2m 37\x1b[0m |   agentId?: ClinicalAgentId;\n \x1b[2m 38\x1b[0m | };\n \x1b[2m 39\x1b[0m | \n \x1b[2m 40\x1b[0m | type AgentReply = {\n \x1b[2m 41\x1b[0m |   reply: string;\n \x1b[2m 42\x1b[0m |   showIcuPanel?: boolean;\n \x1b[2m 43\x1b[0m |   topN?: number;\n \x1b[2m 44\x1b[0m |   topPatients?: Patient[];\n \x1b[2m 45\x1b[0m |   focusedPatient?: Patient;\n \x1b[2m 46\x1b[0m |   showLabPanel?: boolean;\n \x1b[2m 47\x1b[0m |   showUnitProfilePanel?: boolean;\n \x1b[2m 48\x1b[0m |   intent?: string;\n \x1b[2m 49\x1b[0m |   agent?: ClinicalAgentType;\n \x1b[2m 50\x1b[0m |   agentName?: string;\n \x1b[2m 51\x1b[0m |   agentId?: ClinicalAgentId;\n \x1b[2m 52\x1b[0m |   selectedPatientId?: string;\n \x1b[2m 53\x1b[0m |   showPatientOverview?: boolean;\n \x1b[2m 54\x1b[0m |   showVitalsPanel?: boolean;\n \x1b[2m 55\x1b[0m |   showLabsPanel?: boolean;\n \x1b[2m 56\x1b[0m |   showTherapiesPanel?: boolean;\n \x1b[2m 57\x1b[0m | };\n \x1b[2m 58\x1b[0m | \n \x1b[2m 59\x1b[0m | function LoadingSkeleton() {\n \x1b[2m 60\x1b[0m |   const steps = [\n \x1b[2m 61\x1b[0m |     "Acessando prontu\xe1rios eletr\xf4nicos…",\n \x1b[2m 62\x1b[0m |     "Buscando exames laboratoriais recentes…",\n \x1b[2m 63\x1b[0m |     "Analisando exames de imagem…",\n \x1b[2m 64\x1b[0m |     "Revisando prescri\xe7\xf5es e doses calculadas…"\n \x1b[2m 65\x1b[0m |   ];\n \x1b[2m 66\x1b[0m | \n \x1b[2m 67\x1b[0m |   return (\n \x1b[2m 68\x1b[0m |     <div className="loading-skeleton">\n \x1b[2m 69\x1b[0m |       {steps.map((step, idx) => (\n \x1b[2m 70\x1b[0m |         <div key={idx} className="loading-step">\n \x1b[2m 71\x1b[0m |           <div className="loading-dot"></div>\n \x1b[2m 72\x1b[0m |           <span>{step}</span>\n \x1b[2m 73\x1b[0m |         </div>\n \x1b[2m 74\x1b[0m |       ))}\n \x1b[2m 75\x1b[0m |     </div>\n \x1b[2m 76\x1b[0m |   );\n \x1b[2m 77\x1b[0m | }\n \x1b[2m 78\x1b[0m | \n \x1b[2m 79\x1b[0m | function PrioritizationPanel({ \n \x1b[2m 80\x1b[0m |   patients, \n \x1b[2m 81\x1b[0m |   onSelectPatient,\n \x1b[2m 82\x1b[0m |   onRequestOpinion \n \x1b[2m 83\x1b[0m | }: { \n \x1b[2m 84\x1b[0m |   patients: Patient[]; \n \x1b[2m 85\x1b[0m |   onSelectPatient?: (patientId: string) => void;\n \x1b[2m 86\x1b[0m |   onRequestOpinion?: (patientId: string, agentId: ClinicalAgentId) => void;\n \x1b[2m 87\x1b[0m | }) {\n \x1b[2m 88\x1b[0m |   return (\n \x1b[2m 89\x1b[0m |     <div className="prioritization-panel">\n \x1b[2m 90\x1b[0m |       <div className="panel-header">\n \x1b[2m 91\x1b[0m |         <h3 className="panel-title">TOP {patients.length} Pacientes por Prioridade</h3>\n \x1b[2m 92\x1b[0m |       </div>\n \x1b[2m 93\x1b[0m |       <div className="prioritization-list">\n \x1b[2m 94\x1b[0m |         {patients.map((p, idx) => {\n \x1b[2m 95\x1b[0m |           const riskLevel = riskLevelFromScore(p.riscoMortality24h);\n \x1b[2m 96\x1b[0m |           const lactato = p.labResults.find(l => l.tipo === "lactato");\n \x1b[2m 97\x1b[0m |           const lactatoValue = lactato && typeof lactato.valor === "number" ? lactato.valor : 0;\n \x1b[2m 98\x1b[0m |           \n \x1b[2m 99\x1b[0m |           return (\n \x1b[2m100\x1b[0m |             <button\n \x1b[2m101\x1b[0m |               key={p.id}\n \x1b[2m102\x1b[0m |               type="button"\n \x1b[2m103\x1b[0m |               className="prioritization-card prioritization-card-clickable"\n \x1b[2m104\x1b[0m |               onClick={() => onSelectPatient?.(p.id)}\n \x1b[2m105\x1b[0m |             >\n \x1b[2m106\x1b[0m |               <div className="prioritization-rank">#{idx + 1}</div>\n \x1b[2m107\x1b[0m |               <div className="prioritization-content">\n \x1b[2m108\x1b[0m |                 <div className="prioritization-header">\n \x1b[2m109\x1b[0m |                   <div>\n \x1b[2m110\x1b[0m |                     <div className="prioritization-name">{p.leito} • {p.nome}</div>\n \x1b[2m111\x1b[0m |                     <div className="prioritization-meta">\n \x1b[2m112\x1b[0m |                       {p.idade} {p.idade === 1 ? "ano" : "anos"} • {p.peso?.toFixed(1) || "N/A"} kg\n \x1b[2m113\x1b[0m |                     </div>\n \x1b[2m114\x1b[0m |                   </div>\n \x1b[2m115\x1b[0m |                   <div style={{ display: "flex", alignItems: "center", gap: "0.5rem" }}>\n \x1b[2m116\x1b[0m |                     <PatientPinButton patient={p} />\n \x1b[2m117\x1b[0m |                     {onRequestOpinion && (\n \x1b[2m118\x1b[0m |                       <PatientAgentButton \n \x1b[2m119\x1b[0m |                         patientId={p.id} \n \x1b[2m120\x1b[0m |                         onRequestOpinion={onRequestOpinion}\n \x1b[2m121\x1b[0m |                       />\n \x1b[2m122\x1b[0m |                     )}\n \x1b[2m123\x1b[0m |                     <span className={`risk-pill ${riskLevel === "alto" ? "risk-high" : riskLevel === "moderado" ? "risk-medium" : "risk-low"}`}>\n \x1b[2m124\x1b[0m |                       Risco {(p.riscoMortality24h * 100).toFixed(0)}%\n \x1b[2m125\x1b[0m |                     </span>\n \x1b[2m126\x1b[0m |                   </div>\n \x1b[2m127\x1b[0m |                 </div>\n \x1b[2m128\x1b[0m |                 <div className="prioritization-diagnosis">{p.diagnosticoPrincipal}</div>\n \x1b[2m129\x1b[0m |                 <div className="prioritization-vitals">\n \x1b[2m130\x1b[0m |                   <div className="vital-item">\n \x1b[2m131\x1b[0m |                     <span className="vital-label">MAP:</span>\n \x1b[2m132\x1b[0m |                     <span className={p.vitalSigns.pressaoArterialMedia < 65 ? "vital-critical" : ""}>\n \x1b[2m133\x1b[0m |                       {p.vitalSigns.pressaoArterialMedia} mmHg\n \x1b[2m134\x1b[0m |                     </span>\n \x1b[2m135\x1b[0m |                   </div>\n \x1b[2m136\x1b[0m |                   <div className="vital-item">\n \x1b[2m137\x1b[0m |                     <span className="vital-label">FC:</span>\n \x1b[2m138\x1b[0m |                     <span>{p.vitalSigns.frequenciaCardiaca} bpm</span>\n \x1b[2m139\x1b[0m |                   </div>\n \x1b[2m140\x1b[0m |                   <div className="vital-item">\n \x1b[2m141\x1b[0m |                     <span className="vital-label">SpO2:</span>\n \x1b[2m142\x1b[0m |                     <span className={p.vitalSigns.saturacaoO2 < 92 ? "vital-critical" : ""}>\n \x1b[2m143\x1b[0m |                       {p.vitalSigns.saturacaoO2}%\n \x1b[2m144\x1b[0m |                     </span>\n \x1b[2m145\x1b[0m |                   </div>\n \x1b[2m146\x1b[0m |                   {lactatoValue > 0 && (\n \x1b[2m147\x1b[0m |                     <div className="vital-item">\n \x1b[2m148\x1b[0m |                       <span className="vital-label">Lactato:</span>\n \x1b[2m149\x1b[0m |                       <span className={lactatoValue >= 3 ? "vital-critical" : ""}>\n \x1b[2m150\x1b[0m |                         {lactatoValue.toFixed(1)} mmol/L\n \x1b[2m151\x1b[0m |                       </span>\n \x1b[2m152\x1b[0m |                     </div>\n \x1b[2m153\x1b[0m |                   )}\n \x1b[2m154\x1b[0m |                 </div>\n \x1b[2m155\x1b[0m |                 <div className="prioritization-support">\n \x1b[2m156\x1b[0m |                   {p.medications.some(m => m.tipo === "vasopressor" && m.ativo) && (\n \x1b[2m157\x1b[0m |                     <span className="support-badge vasopressor">Vasopressor</span>\n \x1b[2m158\x1b[0m |                   )}\n \x1b[2m159\x1b[0m |                   {p.ventilationParams && (\n \x1b[2m160\x1b[0m |                     <span className="support-badge ventilation">VM</span>\n \x1b[2m161\x1b[0m |                   )}\n \x1b[2m162\x1b[0m |                 </div>\n \x1b[2m163\x1b[0m |               </div>\n \x1b[2m164\x1b[0m |             </button>\n \x1b[2m165\x1b[0m |           );\n \x1b[2m166\x1b[0m |         })}\n \x1b[2m167\x1b[0m |       </div>\n \x1b[2m168\x1b[0m |     </div>\n \x1b[2m169\x1b[0m |   );\n \x1b[2m170\x1b[0m | }\n \x1b[2m171\x1b[0m | \n \x1b[2m172\x1b[0m | function LabPanel({ patients }: { patients: Patient[] }) {\n \x1b[2m173\x1b[0m |   // Criar hist\xf3rico mock de exames (\xfaltimos 2-3 valores por paciente)\n \x1b[2m174\x1b[0m |   const getLabHistory = (patient: Patient) => {\n \x1b[2m175\x1b[0m |     const lactato = patient.labResults.find(l => l.tipo === "lactato");\n \x1b[2m176\x1b[0m |     const pcr = patient.labResults.find(l => l.tipo === "pcr");\n \x1b[2m177\x1b[0m |     \n \x1b[2m178\x1b[0m |     // Mock de hist\xf3rico: valores anteriores simulados\n \x1b[2m179\x1b[0m |     const lactatoHistory = lactato ? [\n \x1b[2m180\x1b[0m |       { value: typeof lactato.valor === "number" ? (lactato.valor * 0.85).toFixed(1) : "N/A", date: "24h atr\xe1s" },\n \x1b[2m181\x1b[0m |       { value: typeof lactato.valor === "number" ? lactato.valor.toFixed(1) : "N/A", date: "Atual", current: true }\n \x1b[2m182\x1b[0m |     ] : [];\n \x1b[2m183\x1b[0m |     \n \x1b[2m184\x1b[0m |     const pcrHistory = pcr ? [\n \x1b[2m185\x1b[0m |       { value: typeof pcr.valor === "number" ? (pcr.valor * 0.9).toFixed(0) : "N/A", date: "24h atr\xe1s" },\n \x1b[2m186\x1b[0m |       { value: typeof pcr.valor === "number" ? pcr.valor.toFixed(0) : "N/A", date: "Atual", current: true }\n \x1b[2m187\x1b[0m |     ] : [];\n \x1b[2m188\x1b[0m | \n \x1b[2m189\x1b[0m |     return { lactato: lactatoHistory, pcr: pcrHistory, lactatoTrend: lactato?.tendencia };\n \x1b[2m190\x1b[0m |   };\n \x1b[2m191\x1b[0m | \n \x1b[2m192\x1b[0m |   const top3 = patients.slice(0, 3);\n \x1b[2m193\x1b[0m | \n \x1b[2m194\x1b[0m |   return (\n \x1b[2m195\x1b[0m |     <div className="lab-panel">\n \x1b[2m196\x1b[0m |       <div className="panel-header">\n \x1b[2m197\x1b[0m |         <h3 className="panel-title">Exames Laboratoriais com Tend\xeancia</h3>\n \x1b[2m198\x1b[0m |       </div>\n \x1b[2m199\x1b[0m |       <div className="lab-panel-content">\n \x1b[2m200\x1b[0m |         {top3.map(patient => {\n \x1b[2m201\x1b[0m |           const history = getLabHistory(patient);\n \x1b[2m202\x1b[0m |           const lactato = patient.labResults.find(l => l.tipo === "lactato");\n \x1b[2m203\x1b[0m |           const lactatoValue = lactato && typeof lactato.valor === "number" ? lactato.valor : null;\n \x1b[2m204\x1b[0m |           const pcr = patient.labResults.find(l => l.tipo === "pcr");\n \x1b[2m205\x1b[0m |           const pcrValue = pcr && typeof pcr.valor === "number" ? pcr.valor : null;\n \x1b[2m206\x1b[0m | \n \x1b[2m207\x1b[0m |           return (\n \x1b[2m208\x1b[0m |             <div key={patient.id} className="lab-patient-card">\n \x1b[2m209\x1b[0m |               <div className="lab-patient-header">\n \x1b[2m210\x1b[0m |                 <div className="lab-patient-name">{patient.leito} • {patient.nome}</div>\n \x1b[2m211\x1b[0m |                 <div className="lab-patient-meta">{patient.idade} {patient.idade === 1 ? "ano" : "anos"} • {patient.peso?.toFixed(1) || "N/A"} kg</div>\n \x1b[2m212\x1b[0m |               </div>\n \x1b[2m213\x1b[0m |               \n \x1b[2m214\x1b[0m |               {lactatoValue !== null && (\n \x1b[2m215\x1b[0m |                 <div className="lab-item">\n \x1b[2m216\x1b[0m |                   <div className="lab-item-header">\n \x1b[2m217\x1b[0m |                     <span className="lab-item-name">Lactato</span>\n \x1b[2m218\x1b[0m |                     <span className={`lab-trend ${history.lactatoTrend === "subindo" ? "trend-up" : history.lactatoTrend === "caindo" ? "trend-down" : "trend-stable"}`}>\n \x1b[2m219\x1b[0m |                       {history.lactatoTrend === "subindo" ? "↑" : history.lactatoTrend === "caindo" ? "↓" : "="}\n \x1b[2m220\x1b[0m |                     </span>\n \x1b[2m221\x1b[0m |                   </div>\n \x1b[2m222\x1b[0m |                   <div className="lab-values">\n \x1b[2m223\x1b[0m |                     {history.lactato.map((h, idx) => (\n \x1b[2m224\x1b[0m |                       <div key={idx} className={`lab-value ${h.current ? "lab-current" : ""}`}>\n \x1b[2m225\x1b[0m |                         <span className="lab-value-number">{h.value} mmol/L</span>\n \x1b[2m226\x1b[0m |                         <span className="lab-value-date">{h.date}</span>\n \x1b[2m227\x1b[0m |                       </div>\n \x1b[2m228\x1b[0m |                     ))}\n \x1b[2m229\x1b[0m |                   </div>\n \x1b[2m230\x1b[0m |                 </div>\n \x1b[2m231\x1b[0m |               )}\n \x1b[2m232\x1b[0m | \n \x1b[2m233\x1b[0m |               {pcrValue !== null && (\n \x1b[2m234\x1b[0m |                 <div className="lab-item">\n \x1b[2m235\x1b[0m |                   <div className="lab-item-header">\n \x1b[2m236\x1b[0m |                     <span className="lab-item-name">PCR</span>\n \x1b[2m237\x1b[0m |                     <span className="lab-trend trend-stable">=</span>\n \x1b[2m238\x1b[0m |                   </div>\n \x1b[2m239\x1b[0m |                   <div className="lab-values">\n \x1b[2m240\x1b[0m |                     {history.pcr.map((h, idx) => (\n \x1b[2m241\x1b[0m |                       <div key={idx} className={`lab-value ${h.current ? "lab-current" : ""}`}>\n \x1b[2m242\x1b[0m |                         <span className="lab-value-number">{h.value} mg/L</span>\n \x1b[2m243\x1b[0m |                         <span className="lab-value-date">{h.date}</span>\n \x1b[2m244\x1b[0m |                       </div>\n \x1b[2m245\x1b[0m |                     ))}\n \x1b[2m246\x1b[0m |                   </div>\n \x1b[2m247\x1b[0m |                 </div>\n \x1b[2m248\x1b[0m |               )}\n \x1b[2m249\x1b[0m | \n \x1b[2m250\x1b[0m |               {lactatoValue === null && pcrValue === null && (\n \x1b[2m251\x1b[0m |                 <div className="lab-no-data">Sem exames laboratoriais recentes</div>\n \x1b[2m252\x1b[0m |               )}\n \x1b[2m253\x1b[0m |             </div>\n \x1b[2m254\x1b[0m |           );\n \x1b[2m255\x1b[0m |         })}\n \x1b[2m256\x1b[0m |       </div>\n \x1b[2m257\x1b[0m |     </div>\n \x1b[2m258\x1b[0m |   );\n \x1b[2m259\x1b[0m | }\n \x1b[2m260\x1b[0m | \n \x1b[2m261\x1b[0m | function UnitProfilePanel() {\n \x1b[2m262\x1b[0m |   const total = mockUnitProfile.totalPacientes;\n \x1b[2m263\x1b[0m |   const percentages = {\n \x1b[2m264\x1b[0m |     respiratorios: ((mockUnitProfile.casuistica.respiratorios / total) * 100).toFixed(0),\n \x1b[2m265\x1b[0m |     sepse: ((mockUnitProfile.casuistica.sepse / total) * 100).toFixed(0),\n \x1b[2m266\x1b[0m |     cardiopatias: ((mockUnitProfile.casuistica.cardiopatias / total) * 100).toFixed(0),\n \x1b[2m267\x1b[0m |     trauma: ((mockUnitProfile.casuistica.trauma / total) * 100).toFixed(0)\n \x1b[2m268\x1b[0m |   };\n \x1b[2m269\x1b[0m | \n \x1b[2m270\x1b[0m |   return (\n \x1b[2m271\x1b[0m |     <div className="unit-profile-panel">\n \x1b[2m272\x1b[0m |       <div className="panel-header">\n \x1b[2m273\x1b[0m |         <h3 className="panel-title">Perfil Epidemiol\xf3gico da Unidade</h3>\n \x1b[2m274\x1b[0m |         <div className="unit-profile-period">\xdaltimos 30 dias</div>\n \x1b[2m275\x1b[0m |       </div>\n \x1b[2m276\x1b[0m | \n \x1b[2m277\x1b[0m |       <div className="unit-profile-sections">\n \x1b[2m278\x1b[0m |         <div className="unit-section">\n \x1b[2m279\x1b[0m |           <h4 className="unit-section-title">Casu\xedstica</h4>\n \x1b[2m280\x1b[0m |           <div className="unit-casuistica">\n \x1b[2m281\x1b[0m |             <div className="unit-casuistica-item">\n \x1b[2m282\x1b[0m |               <div className="unit-casuistica-label">Respirat\xf3rios</div>\n \x1b[2m283\x1b[0m |               <div className="unit-casuistica-bar">\n \x1b[2m284\x1b[0m |                 <div \n \x1b[2m285\x1b[0m |                   className="unit-casuistica-fill" \n \x1b[2m286\x1b[0m |                   style={{ width: `${percentages.respiratorios}%` }}\n \x1b[2m287\x1b[0m |                 ></div>\n \x1b[2m288\x1b[0m |               </div>\n \x1b[2m289\x1b[0m |               <div className="unit-casuistica-value">\n \x1b[2m290\x1b[0m |                 {mockUnitProfile.casuistica.respiratorios}/{total} ({percentages.respiratorios}%)\n \x1b[2m291\x1b[0m |               </div>\n \x1b[2m292\x1b[0m |             </div>\n \x1b[2m293\x1b[0m |             <div className="unit-casuistica-item">\n \x1b[2m294\x1b[0m |               <div className="unit-casuistica-label">Sepse</div>\n \x1b[2m295\x1b[0m |               <div className="unit-casuistica-bar">\n \x1b[2m296\x1b[0m |                 <div \n \x1b[2m297\x1b[0m |                   className="unit-casuistica-fill" \n \x1b[2m298\x1b[0m |                   style={{ width: `${percentages.sepse}%` }}\n \x1b[2m299\x1b[0m |                 ></div>\n \x1b[2m300\x1b[0m |               </div>\n \x1b[2m301\x1b[0m |               <div className="unit-casuistica-value">\n \x1b[2m302\x1b[0m |                 {mockUnitProfile.casuistica.sepse}/{total} ({percentages.sepse}%)\n \x1b[2m303\x1b[0m |               </div>\n \x1b[2m304\x1b[0m |             </div>\n \x1b[2m305\x1b[0m |             <div className="unit-casuistica-item">\n \x1b[2m306\x1b[0m |               <div className="unit-casuistica-label">Cardiopatias</div>\n \x1b[2m307\x1b[0m |               <div className="unit-casuistica-bar">\n \x1b[2m308\x1b[0m |                 <div \n \x1b[2m309\x1b[0m |                   className="unit-casuistica-fill" \n \x1b[2m310\x1b[0m |                   style={{ width: `${percentages.cardiopatias}%` }}\n \x1b[2m311\x1b[0m |                 ></div>\n \x1b[2m312\x1b[0m |               </div>\n \x1b[2m313\x1b[0m |               <div className="unit-casuistica-value">\n \x1b[2m314\x1b[0m |                 {mockUnitProfile.casuistica.cardiopatias}/{total} ({percentages.cardiopatias}%)\n \x1b[2m315\x1b[0m |               </div>\n \x1b[2m316\x1b[0m |             </div>\n \x1b[2m317\x1b[0m |             <div className="unit-casuistica-item">\n \x1b[2m318\x1b[0m |               <div className="unit-casuistica-label">Trauma</div>\n \x1b[2m319\x1b[0m |               <div className="unit-casuistica-bar">\n \x1b[2m320\x1b[0m |                 <div \n \x1b[2m321\x1b[0m |                   className="unit-casuistica-fill" \n \x1b[2m322\x1b[0m |                   style={{ width: `${percentages.trauma}%` }}\n \x1b[2m323\x1b[0m |                 ></div>\n \x1b[2m324\x1b[0m |               </div>\n \x1b[2m325\x1b[0m |               <div className="unit-casuistica-value">\n \x1b[2m326\x1b[0m |                 {mockUnitProfile.casuistica.trauma}/{total} ({percentages.trauma}%)\n \x1b[2m327\x1b[0m |               </div>\n \x1b[2m328\x1b[0m |             </div>\n \x1b[2m329\x1b[0m |           </div>\n \x1b[2m330\x1b[0m |         </div>\n \x1b[2m331\x1b[0m | \n \x1b[2m332\x1b[0m |         <div className="unit-section">\n \x1b[2m333\x1b[0m |           <h4 className="unit-section-title">Germes Mais Frequentes</h4>\n \x1b[2m334\x1b[0m |           <div className="unit-germs">\n \x1b[2m335\x1b[0m |             {mockUnitProfile.germesMaisFrequentes.map((germe, idx) => (\n \x1b[2m336\x1b[0m |               <div key={idx} className="unit-germ-item">\n \x1b[2m337\x1b[0m |                 <div className="unit-germ-name">{germe.nome}</div>\n \x1b[2m338\x1b[0m |                 <div className="unit-germ-freq">{germe.frequencia} {germe.frequencia === 1 ? "caso" : "casos"}</div>\n \x1b[2m339\x1b[0m |                 {germe.resistencia && germe.resistencia.length > 0 && (\n \x1b[2m340\x1b[0m |                   <div className="unit-germ-resistance">\n \x1b[2m341\x1b[0m |                     Resist\xeancia: {germe.resistencia.join(", ")}\n \x1b[2m342\x1b[0m |                   </div>\n \x1b[2m343\x1b[0m |                 )}\n \x1b[2m344\x1b[0m |               </div>\n \x1b[2m345\x1b[0m |             ))}\n \x1b[2m346\x1b[0m |           </div>\n \x1b[2m347\x1b[0m |         </div>\n \x1b[2m348\x1b[0m | \n \x1b[2m349\x1b[0m |         <div className="unit-section">\n \x1b[2m350\x1b[0m |           <h4 className="unit-section-title">Perfil de Resist\xeancia Antimicrobiana</h4>\n \x1b[2m351\x1b[0m |           <div className="unit-resistance">\n \x1b[2m352\x1b[0m |             {mockUnitProfile.perfilResistencia.map((perfil, idx) => (\n \x1b[2m353\x1b[0m |               <div key={idx} className="unit-resistance-item">\n \x1b[2m354\x1b[0m |                 <div className="unit-resistance-header">\n \x1b[2m355\x1b[0m |                   <span className="unit-resistance-antibiotic">{perfil.antibiotico}</span>\n \x1b[2m356\x1b[0m |                   <span className="unit-resistance-rate">{(perfil.taxaResistencia * 100).toFixed(0)}%</span>\n \x1b[2m357\x1b[0m |                 </div>\n \x1b[2m358\x1b[0m |                 <div className="unit-resistance-germs">\n \x1b[2m359\x1b[0m |                   {perfil.germes.join(", ")}\n \x1b[2m360\x1b[0m |                 </div>\n \x1b[2m361\x1b[0m |               </div>\n \x1b[2m362\x1b[0m |             ))}\n \x1b[2m363\x1b[0m |           </div>\n \x1b[2m364\x1b[0m |         </div>\n \x1b[2m365\x1b[0m |       </div>\n \x1b[2m366\x1b[0m |     </div>\n \x1b[2m367\x1b[0m |   );\n \x1b[2m368\x1b[0m | }\n \x1b[2m369\x1b[0m | \n \x1b[2m370\x1b[0m | function PatientDetailPanel({ patient }: { patient: Patient }) {\n     : \x1b[33;1m         ^^^^^^^^^|^^^^^^^^\x1b[0m\n     :                   \x1b[33;1m`-- \x1b[33;1m`PatientDetailPanel` redefined here\x1b[0m\x1b[0m\n \x1b[2m371\x1b[0m |   const lactato = patient.labResults.find(l => l.tipo === "lactato");\n \x1b[2m372\x1b[0m |   const lactatoValue = lactato && typeof lactato.valor === "number" ? lactato.valor : 0;\n \x1b[2m373\x1b[0m |   const temVasopressor = patient.medications.some(m => m.tipo === "vasopressor" && m.ativo);\n     `----\n')},7272:()=>{}};var m=require("../webpack-runtime.js");m.C(n);var a=n=>m(m.s=n),e=m.X(0,[948,471],()=>a(890));module.exports=e})();